<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PainSense</title>
  
  <!-- Nunito Sans Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <script type="importmap">
  {
    "imports": {
      "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
      "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
    }
  }
  </script>
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      /* Classic Medical Blue Theme */
      --bg-primary: #0f2744;
      --bg-secondary: #1a365d;
      --bg-tertiary: #2c4a6e;
      --text-primary: #ffffff;
      --text-secondary: #94a3b8;
      --accent: #3b82f6;
      --accent-hover: #2563eb;
      --accent-light: rgba(59, 130, 246, 0.15);
      --border: rgba(255,255,255,0.1);
      --shadow: 0 4px 20px rgba(0,0,0,0.3);
      --shadow-lg: 0 12px 40px rgba(0,0,0,0.4);
      --radius: 12px;
      --radius-lg: 20px;
      --muscle-base: #d4a59a;
      --muscle-highlight: #60a5fa;
      --muscle-selected: #3b82f6;
      
      /* Neutral gray viewer background */
      --viewer-bg-top: #e8e8e8;
      --viewer-bg-bottom: #d0d0d0;
      
      /* Medical accent for key actions */
      --action-color: #3b82f6;
      --action-hover: #2563eb;
    }

    body {
      font-family: 'Nunito Sans', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
      background: var(--bg-secondary);
      color: var(--text-primary);
      min-height: 100vh;
      -webkit-font-smoothing: antialiased;
    }

    .screen {
      display: none;
      min-height: 100vh;
      flex-direction: column;
    }
    .screen.active {
      display: flex;
    }
    
    /* Neutral gray background for text-heavy screens */
    #screen-cause,
    #screen-results {
      background: #1c1c1c;
    }

    .header {
      background: var(--bg-primary);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--border);
      padding: 14px 20px;
      position: sticky;
      top: 0;
      z-index: 100;
    }
    .header-content {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .logo {
      font-size: 20px;
      font-weight: 700;
      color: #ffffff;
    }
    .header-subtitle {
      font-size: 13px;
      color: var(--text-secondary);
    }
    .header-content > div {
      text-align: center;
    }
    .back-btn {
      background: none;
      border: none;
      font-size: 15px;
      color: #93c5fd;
      cursor: pointer;
      padding: 8px 14px;
      border-radius: 8px;
      transition: all 0.2s;
      font-weight: 500;
    }
    .back-btn:hover {
      background: var(--accent-light);
    }
    .start-over-btn {
      background: none;
      border: 1px solid var(--border);
      font-size: 13px;
      color: var(--text-secondary);
      cursor: pointer;
      padding: 6px 12px;
      border-radius: 6px;
      transition: all 0.2s;
      font-weight: 500;
    }
    .start-over-btn:hover {
      background: rgba(239, 68, 68, 0.15);
      border-color: #ef4444;
      color: #f87171;
    }

    .viewer-wrapper {
      flex: 1;
      display: flex;
      flex-direction: column;
    }
    .viewer-container {
      flex: 1;
      position: relative;
      background: linear-gradient(180deg, var(--viewer-bg-top) 0%, var(--viewer-bg-bottom) 100%);
      min-height: 55vh;
    }
    #canvas-container, #canvas-container-focus {
      width: 100%;
      height: 100%;
      position: absolute;
      top: 0;
      left: 0;
    }

    .viewer-overlay {
      position: absolute;
      top: 16px;
      left: 50%;
      transform: translateX(-50%);
      background: #ffffff;
      padding: 14px 44px 14px 20px;
      border-radius: var(--radius);
      box-shadow: 0 4px 20px rgba(0,0,0,0.15);
      text-align: center;
      max-width: 90%;
      z-index: 10;
    }
    .viewer-overlay.hidden { display: none; }
    .viewer-overlay h3 {
      font-size: 15px;
      font-weight: 600;
      margin-bottom: 4px;
      color: #1e293b;
    }
    .viewer-overlay p {
      font-size: 13px;
      color: #64748b;
    }
    .viewer-overlay .close-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      width: 24px;
      height: 24px;
      border: none;
      background: #f1f5f9;
      border-radius: 50%;
      cursor: pointer;
      font-size: 14px;
      color: #64748b;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
    }
    .viewer-overlay .close-btn:hover {
      background: #e2e8f0;
      color: #1e293b;
    }

    .muscle-indicator {
      position: absolute;
      right: 60px;
      top: 50%;
      transform: translateY(-50%);
      background: var(--bg-primary);
      padding: 16px 20px;
      padding-top: 32px;
      border-radius: var(--radius);
      box-shadow: var(--shadow-lg);
      display: none;
      flex-direction: column;
      gap: 12px;
      z-index: 10;
      max-width: 240px;
      width: 240px;
      border-left: 4px solid var(--action-color);
    }
    .muscle-indicator::before {
      content: '';
      position: absolute;
      left: -20px;
      top: 50%;
      transform: translateY(-50%);
      border: 8px solid transparent;
      border-right-color: var(--action-color);
    }
    .muscle-indicator.visible { display: flex; }
    .muscle-indicator .close-indicator-btn {
      position: absolute;
      top: 8px;
      right: 8px;
      width: 24px;
      height: 24px;
      border: none;
      background: var(--bg-secondary);
      border-radius: 50%;
      cursor: pointer;
      font-size: 16px;
      line-height: 1;
      color: var(--text-secondary);
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
    }
    .muscle-indicator .close-indicator-btn:hover {
      background: rgba(239, 68, 68, 0.15);
      color: #f87171;
    }
    .muscle-indicator .muscle-name {
      font-weight: 600;
      font-size: 16px;
      color: #93c5fd;
    }
    .muscle-indicator .muscle-description {
      font-size: 13px;
      color: var(--text-secondary);
      line-height: 1.5;
    }
    .muscle-indicator .confirm-btn {
      background: var(--action-color);
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      font-weight: 500;
      cursor: pointer;
      transition: background 0.2s;
    }
    .muscle-indicator .confirm-btn:hover {
      background: var(--action-hover);
    }
    
    /* Overlay for mobile bottom sheet - hidden on desktop */
    .muscle-indicator-overlay {
      display: none;
    }

    /* Pointer line SVG */
    .pointer-line {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 5;
      display: none;
    }
    .pointer-line line {
      stroke: var(--accent);
      stroke-width: 2;
      stroke-dasharray: 5, 3;
    }
    .pointer-line circle {
      fill: var(--accent);
    }

    /* Navigation arrows */
    .nav-arrows {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 12px;
      z-index: 10;
    }
    .nav-arrow {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      background: #ffffff;
      border: 1px solid #e2e8f0;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      color: #64748b;
      transition: all 0.2s;
    }
    .nav-arrow:hover {
      background: var(--accent-light);
      border-color: var(--accent);
      color: var(--accent);
    }
    .nav-arrow:active {
      transform: scale(0.95);
    }

    /* Vertical navigation arrows */
    .nav-arrows-vertical {
      position: absolute;
      right: 20px;
      top: 50%;
      transform: translateY(-50%);
      display: flex;
      flex-direction: column;
      gap: 12px;
      z-index: 10;
    }
    .nav-arrow-vertical {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      background: #ffffff;
      border: 1px solid #e2e8f0;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      color: #64748b;
      transition: all 0.2s;
    }
    .nav-arrow-vertical:hover {
      background: var(--accent-light);
      border-color: var(--accent);
      color: var(--accent);
    }
    .nav-arrow-vertical:active {
      transform: scale(0.95);
    }
    .nav-arrow-vertical:disabled {
      opacity: 0.4;
      cursor: not-allowed;
    }
    .nav-arrow-vertical:disabled:hover {
      background: #ffffff;
      border-color: #e2e8f0;
      color: #64748b;
    }

    .region-bar {
      background: var(--bg-primary);
      border-top: 1px solid var(--border);
      padding: 16px;
      overflow-x: auto;
      font-family: 'Nunito Sans', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
    }
    .region-buttons {
      display: flex;
      gap: 8px;
      justify-content: center;
      flex-wrap: wrap;
    }
    .region-btn {
      padding: 10px 16px;
      background: var(--bg-secondary);
      border: 2px solid transparent;
      border-radius: 20px;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.2s;
      white-space: nowrap;
      font-weight: 600;
      color: #f1f5f9;
      font-family: 'Nunito Sans', -apple-system, BlinkMacSystemFont, sans-serif;
    }
    .region-btn:hover {
      border-color: var(--accent);
      background: var(--accent-light);
      color: #ffffff;
    }
    .region-btn.active {
      background: var(--accent);
      color: white;
    }

    .muscle-list-panel {
      background: var(--bg-primary);
      border-top: 1px solid var(--border);
      padding: 16px;
      max-height: 200px;
      overflow-y: auto;
      font-family: 'Nunito Sans', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
    }
    .muscle-list-panel h4 {
      font-size: 13px;
      color: #cbd5e1;
      margin-bottom: 12px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      font-weight: 600;
    }
    .muscle-list {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    .muscle-list-item {
      padding: 8px 14px;
      background: var(--bg-secondary);
      border: 2px solid transparent;
      border-radius: 8px;
      font-size: 13px;
      cursor: pointer;
      transition: all 0.2s;
      color: #f1f5f9;
      font-weight: 500;
      font-family: 'Nunito Sans', -apple-system, BlinkMacSystemFont, sans-serif;
    }
    .muscle-list-item:hover {
      border-color: var(--accent);
      background: var(--accent-light);
      color: #ffffff;
    }
    .muscle-list-item.active {
      border-color: var(--accent);
      background: var(--accent);
      color: white;
    }

    .loading-overlay {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: var(--viewer-bg-top);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 50;
    }
    .loading-overlay.hidden { display: none; }
    .spinner {
      width: 44px;
      height: 44px;
      border: 3px solid #e2e8f0;
      border-top-color: var(--accent);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 16px;
    }
    .loading-text {
      color: #64748b;
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* Pain Intensity Screen */
    .content-card {
      background: #1c1c1c;
      border: 2px solid #3b82f6;
      border-radius: var(--radius-lg);
      padding: 24px;
      margin: 20px;
      box-shadow: var(--shadow);
    }
    .content-card h2 {
      font-size: 20px;
      margin-bottom: 8px;
    }
    .content-card .subtitle {
      color: #a0a0a0;
      font-size: 14px;
      margin-bottom: 24px;
    }

    .selected-muscle-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: #333333;
      color: #e2e8f0;
      padding: 8px 14px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 500;
      margin-bottom: 20px;
      border: 1px solid #404040;
    }

    .pain-slider-container {
      padding: 20px 0;
    }
    .pain-slider {
      width: 100%;
      height: 8px;
      border-radius: 4px;
      -webkit-appearance: none;
      appearance: none;
      background: linear-gradient(to right, #34c759, #ffd60a, #ff453a);
      outline: none;
      cursor: pointer;
    }
    .pain-slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 28px;
      height: 28px;
      border-radius: 50%;
      background: white;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
      cursor: pointer;
      border: 3px solid var(--accent);
    }
    .pain-slider::-moz-range-thumb {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      background: white;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
      cursor: pointer;
      border: 3px solid var(--accent);
    }
    .pain-labels {
      display: flex;
      justify-content: space-between;
      margin-top: 12px;
      font-size: 12px;
      color: var(--text-secondary);
    }
    .pain-value {
      text-align: center;
      margin-top: 20px;
    }
    .pain-value .number {
      font-size: 48px;
      font-weight: 700;
      color: var(--accent);
    }
    .pain-value .label {
      font-size: 16px;
      color: var(--text-secondary);
    }

    /* Cause Selection */
    .cause-options {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .cause-option {
      padding: 16px;
      background: #2a2a2a;
      border: 2px solid #404040;
      border-radius: var(--radius);
      cursor: pointer;
      transition: all 0.2s;
      text-align: left;
    }
    .cause-option:hover {
      border-color: #3b82f6;
      background: #333333;
    }
    .cause-option.selected {
      border-color: #3b82f6;
      background: #333333;
    }
    .cause-option .cause-title {
      font-weight: 500;
      font-size: 15px;
      margin-bottom: 4px;
    }
    .cause-option .cause-desc {
      font-size: 13px;
      color: #a0a0a0;
    }

    /* Results Screen */
    .results-container {
      flex: 1;
      overflow-y: auto;
      padding: 20px;
      padding-bottom: 100px;
    }
    .assessment-card {
      background: #2a2a2a;
      border: 2px solid #3b82f6;
      border-radius: var(--radius-lg);
      padding: 24px;
      margin-bottom: 16px;
      box-shadow: var(--shadow);
    }
    .assessment-card h2 {
      font-size: 18px;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .assessment-card .icon {
      font-size: 24px;
    }

    .condition-badge {
      display: inline-block;
      background: #3b82f6;
      color: white;
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 500;
      margin-bottom: 16px;
    }

    .assessment-detail {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      padding: 12px 0;
      border-bottom: 1px solid #404040;
    }
    .assessment-detail:last-child {
      border-bottom: none;
    }
    .assessment-detail .detail-icon {
      font-size: 20px;
      width: 32px;
      text-align: center;
    }
    .assessment-detail .detail-content h4 {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 4px;
    }
    .assessment-detail .detail-content p {
      font-size: 14px;
      color: #a0a0a0;
      line-height: 1.5;
    }

    /* Solution Card */
    .solution-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    .solution-item {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      padding: 12px;
      background: #333333;
      border-radius: var(--radius);
    }
    .solution-item .solution-number {
      width: 24px;
      height: 24px;
      background: #3b82f6;
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: 600;
      flex-shrink: 0;
    }
    .solution-item p {
      font-size: 14px;
      line-height: 1.5;
    }

    /* Stretch Cards */
    .stretch-card {
      background: #2a2a2a;
      border: 2px solid #3b82f6;
      border-radius: var(--radius);
      padding: 16px;
      margin-bottom: 16px;
    }
    .stretch-card h4 {
      font-size: 15px;
      font-weight: 600;
      margin-bottom: 8px;
      color: #ffffff;
    }
    .stretch-card p {
      font-size: 14px;
      color: #a0a0a0;
      line-height: 1.5;
      margin-bottom: 12px;
    }
    .stretch-card .video-container {
      position: relative;
      width: 100%;
      padding-bottom: 56.25%; /* 16:9 aspect ratio */
      margin-top: 12px;
      border-radius: 8px;
      overflow: hidden;
      background: #000;
    }
    .stretch-card .video-container iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: none;
    }
    .stretch-card .video-link {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      color: var(--accent);
      text-decoration: none;
      font-size: 14px;
      font-weight: 500;
      padding: 8px 14px;
      background: var(--accent-light);
      border-radius: 8px;
      transition: all 0.2s;
      margin-top: 12px;
    }
    .stretch-card .video-link:hover {
      background: var(--accent);
      color: white;
    }

    /* Disclaimer */
    .disclaimer {
      background: #fff8e6;
      border-left: 4px solid #f59e0b;
      padding: 16px;
      border-radius: 0 var(--radius) var(--radius) 0;
      margin-top: 16px;
    }
    .disclaimer h4 {
      font-size: 14px;
      font-weight: 600;
      color: #b45309;
      margin-bottom: 6px;
    }
    .disclaimer p {
      font-size: 13px;
      color: #92400e;
      line-height: 1.5;
    }

    /* Buttons */
    .btn {
      padding: 14px 28px;
      border-radius: var(--radius);
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      border: none;
    }
    .btn-primary {
      background: var(--action-color);
      color: white;
    }
    .btn-primary:hover {
      background: var(--action-hover);
    }
    .btn-primary:disabled {
      background: var(--bg-tertiary);
      color: var(--text-secondary);
      cursor: not-allowed;
    }
    .btn-secondary {
      background: var(--bg-secondary);
      color: var(--text-primary);
    }
    .btn-secondary:hover {
      background: var(--bg-tertiary);
    }
    .btn-block {
      width: 100%;
    }

    /* Bottom Action Bar */
    .bottom-action {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: var(--bg-primary);
      padding: 16px 20px;
      border-top: 1px solid var(--border);
      box-shadow: 0 -4px 20px rgba(0,0,0,0.3);
      z-index: 50;
    }
    .bottom-action .btn {
      width: 100%;
    }

    /* Scrollbar */
    ::-webkit-scrollbar {
      width: 6px;
      height: 6px;
    }
    ::-webkit-scrollbar-track {
      background: transparent;
    }
    ::-webkit-scrollbar-thumb {
      background: #475569;
      border-radius: 3px;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: #64748b;
    }

    /* Disclaimer Screen */
    .disclaimer-screen {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: var(--bg-primary);
      z-index: 1000;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 24px;
    }
    .disclaimer-screen.hidden {
      display: none;
    }
    .disclaimer-card {
      background: var(--bg-secondary);
      border-radius: var(--radius-lg);
      padding: 32px;
      max-width: 500px;
      width: 100%;
      text-align: center;
      box-shadow: var(--shadow-lg);
    }
    .disclaimer-card .logo {
      font-size: 28px;
      font-weight: 700;
      color: #ffffff;
      margin-bottom: 8px;
    }
    .disclaimer-card .tagline {
      font-size: 14px;
      color: var(--text-secondary);
      margin-bottom: 24px;
    }
    .disclaimer-card h2 {
      font-size: 18px;
      color: #f1f5f9;
      margin-bottom: 16px;
      font-weight: 600;
    }
    .disclaimer-content {
      background: var(--bg-primary);
      border-radius: var(--radius);
      padding: 16px;
      margin-bottom: 24px;
      text-align: left;
      max-height: 200px;
      overflow-y: auto;
    }
    .disclaimer-content p {
      font-size: 13px;
      color: #cbd5e1;
      line-height: 1.6;
      margin-bottom: 12px;
    }
    .disclaimer-content p:last-child {
      margin-bottom: 0;
    }
    .disclaimer-content strong {
      color: #f1f5f9;
    }
    .disclaimer-checkbox {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      margin-bottom: 24px;
      text-align: left;
    }
    .disclaimer-checkbox input[type="checkbox"] {
      width: 20px;
      height: 20px;
      margin-top: 2px;
      accent-color: var(--accent);
      cursor: pointer;
      flex-shrink: 0;
    }
    .disclaimer-checkbox label {
      font-size: 14px;
      color: #e2e8f0;
      cursor: pointer;
      line-height: 1.5;
    }
    .disclaimer-btn {
      width: 100%;
      padding: 14px 24px;
      background: var(--action-color);
      color: white;
      border: none;
      border-radius: var(--radius);
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      font-family: 'Nunito Sans', -apple-system, BlinkMacSystemFont, sans-serif;
    }
    .disclaimer-btn:hover:not(:disabled) {
      background: var(--action-hover);
    }
    .disclaimer-btn:disabled {
      background: var(--bg-tertiary);
      color: var(--text-secondary);
      cursor: not-allowed;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .region-buttons {
        justify-content: flex-start;
        flex-wrap: nowrap;
      }
      .content-card {
        margin: 12px;
        padding: 20px;
      }
      .results-container {
        padding: 12px;
      }
      
      /* Mobile Bottom Sheet for Muscle Indicator */
      .muscle-indicator {
        position: fixed;
        right: 0;
        left: 0;
        bottom: 0;
        top: auto;
        transform: translateY(100%);
        max-width: 100%;
        width: 100%;
        border-radius: var(--radius-lg) var(--radius-lg) 0 0;
        border-left: none;
        border-top: 4px solid var(--action-color);
        padding: 20px;
        padding-top: 16px;
        box-shadow: 0 -4px 20px rgba(0,0,0,0.12), 0 -12px 40px rgba(0,0,0,0.08);
        z-index: 100;
        transition: transform 0.3s cubic-bezier(0.32, 0.72, 0, 1);
      }
      .muscle-indicator::before {
        display: none;
      }
      .muscle-indicator.visible {
        transform: translateY(0);
      }
      
      /* Bottom sheet handle indicator */
      .muscle-indicator::after {
        content: '';
        position: absolute;
        top: 8px;
        left: 50%;
        transform: translateX(-50%);
        width: 36px;
        height: 4px;
        background: var(--bg-tertiary);
        border-radius: 2px;
      }
      
      /* Horizontal layout for mobile bottom sheet */
      .muscle-indicator .muscle-name {
        font-size: 18px;
        margin-top: 8px;
      }
      .muscle-indicator .muscle-description {
        font-size: 14px;
        margin-bottom: 4px;
      }
      .muscle-indicator .confirm-btn {
        width: 100%;
        padding: 14px 24px;
        font-size: 16px;
        margin-top: 8px;
      }
      .muscle-indicator .close-indicator-btn {
        top: 12px;
        right: 12px;
        width: 28px;
        height: 28px;
        font-size: 18px;
      }
      
      /* Hide pointer line on mobile - doesn't work well with bottom sheet */
      .pointer-line {
        display: none !important;
      }
      
      /* Adjust viewer when bottom sheet is visible */
      #screen-muscle .viewer-container {
        transition: height 0.3s ease;
      }
      
      /* Move nav arrows up a bit on mobile to avoid bottom sheet overlap */
      #screen-muscle .nav-arrows {
        bottom: 16px;
      }
      
      /* Overlay behind bottom sheet on mobile - transparent, just for tap-to-close */
      .muscle-indicator-overlay {
        display: block;
        position: fixed;
        inset: 0;
        background: transparent;
        z-index: 99;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s, visibility 0.3s;
      }
      .muscle-indicator-overlay.visible {
        opacity: 1;
        visibility: visible;
      }
    }
    
    /* Tablet adjustments */
    @media (min-width: 601px) and (max-width: 900px) {
      .muscle-indicator {
        right: 20px;
        max-width: 220px;
        width: 220px;
      }
    }
  </style>
</head>
<body>

  <!-- DISCLAIMER SCREEN -->
  <div id="disclaimer-screen" class="disclaimer-screen">
    <div class="disclaimer-card">
      <div class="logo">PainSense</div>
      <div class="tagline">Body Pain Reference Guide</div>
      
      <h2>Important Notice</h2>
      
      <div class="disclaimer-content">
        <p><strong>This application is for informational and educational purposes only.</strong></p>
        
        <p>PainSense is not a medical device and does not provide medical advice, diagnosis, or treatment. The information provided should not be used as a substitute for professional medical consultation, diagnosis, or treatment.</p>
        
        <p><strong>Always seek the advice of a qualified healthcare provider</strong> with any questions regarding a medical condition. Never disregard professional medical advice or delay seeking it because of information obtained from this application.</p>
        
        <p>If you are experiencing severe pain, sudden onset of symptoms, or any medical emergency, <strong>contact emergency services or visit your nearest emergency room immediately.</strong></p>
        
        <p>By using this application, you acknowledge that you understand these limitations and agree to use the information provided solely as a general reference.</p>
      </div>
      
      <div class="disclaimer-checkbox">
        <input type="checkbox" id="disclaimer-agree" onchange="updateDisclaimerButton()">
        <label for="disclaimer-agree">I understand and agree that this is not medical advice and is for reference purposes only</label>
      </div>
      
      <button class="disclaimer-btn" id="disclaimer-btn" disabled onclick="acceptDisclaimer()">
        Continue to PainSense
      </button>
    </div>
  </div>

  <!-- SCREEN 1: Region Selection -->
  <div id="screen-region" class="screen active">
    <header class="header">
      <div class="header-content">
        <div>
          <div class="logo">PainSense</div>
          <div class="header-subtitle">Body Pain Guide</div>
        </div>
      </div>
    </header>
    
    <div class="viewer-wrapper">
      <div class="viewer-container">
        <div id="canvas-container"></div>
        <div class="loading-overlay" id="loading-overlay">
          <div class="spinner"></div>
          <div class="loading-text">Loading 3D model...</div>
        </div>
        <div class="viewer-overlay" id="viewer-overlay-region">
          <h3>Select a Body Region</h3>
          <p>Click a region below or tap on the body</p>
          <button class="close-btn" onclick="hideOverlay('viewer-overlay-region')">√ó</button>
        </div>
        <div class="nav-arrows" id="nav-arrows-1">
          <button class="nav-arrow" onclick="rotateModel1(-1)" title="Rotate Left">‚Üê</button>
          <button class="nav-arrow" onclick="rotateModel1(1)" title="Rotate Right">‚Üí</button>
        </div>
        <div class="nav-arrows-vertical" id="nav-arrows-vertical-1">
          <button class="nav-arrow-vertical" id="nav-up-1" onclick="moveModelY1(1)" title="Move Up">‚Üë</button>
          <button class="nav-arrow-vertical" id="nav-down-1" onclick="moveModelY1(-1)" title="Move Down">‚Üì</button>
        </div>
      </div>
      
      <div class="region-bar">
        <div class="region-buttons" id="region-buttons">
          <!-- Populated by JS -->
        </div>
      </div>
    </div>
  </div>

  <!-- SCREEN 2: Muscle Selection (Focused View) -->
  <div id="screen-muscle" class="screen">
    <header class="header">
      <div class="header-content">
        <button class="back-btn" onclick="goToScreen('screen-region')">‚Üê Back</button>
        <div>
          <div class="logo">PainSense</div>
          <div class="header-subtitle" id="selected-region-title">Region</div>
        </div>
        <button class="start-over-btn" onclick="startOver()">Start Over</button>
      </div>
    </header>
    
    <div class="viewer-wrapper">
      <div class="viewer-container">
        <div id="canvas-container-focus"></div>
        <div class="viewer-overlay" id="viewer-overlay-muscle">
          <h3>Select a Muscle</h3>
          <p>Click on a muscle or select from the list below</p>
          <button class="close-btn" onclick="hideOverlay('viewer-overlay-muscle')">√ó</button>
        </div>
        <svg class="pointer-line" id="pointer-line">
          <line id="pointer-line-element" x1="0" y1="0" x2="0" y2="0" />
          <circle id="pointer-dot" cx="0" cy="0" r="6" />
        </svg>
        <div class="muscle-indicator" id="muscle-indicator">
          <button class="close-indicator-btn" onclick="closeMuscleIndicator()">√ó</button>
          <div class="muscle-name" id="indicator-muscle-name">Muscle Name</div>
          <div class="muscle-description" id="indicator-muscle-desc">Description</div>
          <button class="confirm-btn" onclick="confirmMuscleSelection()">Select This Muscle</button>
        </div>
        <div class="muscle-indicator-overlay" id="muscle-indicator-overlay" onclick="closeMuscleIndicator()"></div>
        <div class="nav-arrows" id="nav-arrows-2">
          <button class="nav-arrow" onclick="rotateModel2(-1)" title="Rotate Left">‚Üê</button>
          <button class="nav-arrow" onclick="rotateModel2(1)" title="Rotate Right">‚Üí</button>
        </div>
        <div class="nav-arrows-vertical" id="nav-arrows-vertical-2">
          <button class="nav-arrow-vertical" id="nav-up-2" onclick="moveModelY2(1)" title="Move Up">‚Üë</button>
          <button class="nav-arrow-vertical" id="nav-down-2" onclick="moveModelY2(-1)" title="Move Down">‚Üì</button>
        </div>
      </div>
      
      <div class="muscle-list-panel">
        <h4>Muscles in this region</h4>
        <div class="muscle-list" id="muscle-list">
          <!-- Populated by JS -->
        </div>
      </div>
    </div>
  </div>

  <!-- SCREEN 3: Cause Selection -->
  <div id="screen-cause" class="screen">
    <header class="header">
      <div class="header-content">
        <button class="back-btn" onclick="goToScreen('screen-muscle')">‚Üê Back</button>
        <div>
          <div class="logo">PainSense</div>
          <div class="header-subtitle">Possible Cause</div>
        </div>
        <button class="start-over-btn" onclick="startOver()">Start Over</button>
      </div>
    </header>
    
    <div style="flex: 1; overflow-y: auto; padding-bottom: 100px;">
      <div class="content-card">
        <div class="selected-muscle-badge">
          <span>üìç</span>
          <span id="cause-muscle-name">Selected Muscle</span>
        </div>
        
        <h2>What might have caused this?</h2>
        <p class="subtitle">Select the option that best describes your situation</p>
        
        <div class="cause-options" id="cause-options">
          <!-- Populated by JS -->
        </div>
        
        <div class="custom-cause-section" style="margin-top: 24px; padding-top: 20px; border-top: 1px solid #404040;">
          <label for="custom-cause-text" style="display: block; font-weight: 600; color: var(--text-primary); margin-bottom: 8px;">
            Or describe your situation:
          </label>
          <textarea 
            id="custom-cause-text" 
            placeholder="Describe when and how the pain started, what you were doing, or any other details that might be relevant..."
            style="width: 100%; min-height: 100px; padding: 12px; border: 2px solid #404040; border-radius: 12px; font-size: 14px; font-family: inherit; resize: vertical; background: #2a2a2a; color: var(--text-primary); transition: border-color 0.2s;"
            onfocus="this.style.borderColor='#3b82f6'"
            onblur="this.style.borderColor='#404040'"
            oninput="handleCustomCauseInput(this)"
          ></textarea>
        </div>
      </div>
    </div>
    
    <div class="bottom-action">
      <button class="btn btn-primary btn-block" id="cause-continue-btn" onclick="showResults()" disabled>Select a cause to continue</button>
    </div>
  </div>

  <!-- SCREEN 5: Results -->
  <div id="screen-results" class="screen">
    <header class="header">
      <div class="header-content">
        <button class="back-btn" onclick="goToScreen('screen-cause')">‚Üê Back</button>
        <div>
          <div class="logo">PainSense</div>
          <div class="header-subtitle">Recommendations</div>
        </div>
        <button class="start-over-btn" onclick="startOver()">Start Over</button>
      </div>
    </header>
    
    <div class="results-container">
      <!-- Solutions -->
      <div class="assessment-card">
        <h2><span class="icon">üí°</span> Recommended Self-Care</h2>
        <div class="solution-list" id="solution-list">
          <!-- Populated by JS -->
        </div>
      </div>
      
      <!-- Stretches -->
      <div class="assessment-card">
        <h2><span class="icon">üßò</span> Recommended Stretches</h2>
        <div id="stretches-list">
          <!-- Populated by JS -->
        </div>
      </div>
      
      <!-- Disclaimer -->
      <div class="assessment-card">
        <div class="disclaimer">
          <h4>‚ö†Ô∏è Important Disclaimer</h4>
          <p>This assessment is for educational purposes only and is not a medical diagnosis. If pain is severe, persistent, or worsening, please consult a healthcare professional. Seek immediate medical attention for sudden severe pain, numbness, weakness, or pain following an injury.</p>
        </div>
      </div>
      
      <!-- Start Over Button -->
      <button class="btn btn-secondary btn-block" onclick="startOver()" style="margin-top: 16px;">
        Start Over
      </button>
    </div>
  </div>

  <script type="module">
    import * as THREE from 'three';
    import { OrbitControls } from 'three/addons/controls/OrbitControls.js';
    import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';

    // ============================================
    // PAINSENSE DATA (from JSON)
    // ============================================
    // ============================================
    // PAINSENSE DATA - Embedded
    // ============================================
    const PAINSENSE_DATA = {
  "regions": {
    "Head & Face": {
      "keywords": [
        "frontalis",
        "occipitalis",
        "temporalis",
        "masseter",
        "pterygoid",
        "orbicularis",
        "zygomaticus",
        "bucinator",
        "procerus",
        "nasalis",
        "mentalis",
        "corrugator",
        "depressor",
        "risorius",
        "levator labii",
        "levator anguli"
      ],
      "cameraPos": [
        0,
        0.2,
        1.5
      ],
      "target": [
        0,
        0.2,
        0
      ],
      "muscles": [
        "masseter_jaw",
        "temporalis_temple",
        "frontalis_forehead"
      ]
    },
    "Neck": {
      "keywords": [
        "sternocleidomastoid",
        "scalenus",
        "platysma",
        "omohyoid",
        "sternohyoid",
        "thyrohyoid",
        "digastric",
        "mylohyoid",
        "levator scapulae",
        "longus colli",
        "longus capitis",
        "splenius capitis",
        "splenius colli",
        "semispinalis colli",
        "semispinalis capitis",
        "multifidus colli",
        "descending part of trapezius",
        "rectus anterior capitis",
        "rectus lateralis capitis",
        "rectus posterior major capitis",
        "rectus posterior minor capitis",
        "obliquus inferior capitis",
        "obliquus superior capitis"
      ],
      "cameraPos": [
        0,
        0.2,
        1.5
      ],
      "target": [
        0,
        0.2,
        0
      ],
      "muscles": [
        "sternocleidomastoid_scm",
        "upper_trapezius",
        "levator_scapulae",
        "scalenes",
        "splenius_capitiscervicis",
        "suboccipital_muscles",
        "longus_collicapitis",
        "platysma",
        "cervical_erector_spinae"
      ]
    },
    "Shoulder": {
      "keywords": [
        "deltoid",
        "supraspinatus",
        "infraspinatus",
        "subscapularis",
        "teres major",
        "teres minor",
        "coracobrachialis",
        "clavicular part of deltoid",
        "acromial part of deltoid",
        "scapular spinal part of deltoid"
      ],
      "cameraPos": [
        0,
        0.2,
        2.2
      ],
      "target": [
        0,
        0.2,
        0
      ],
      "muscles": [
        "deltoid",
        "rotator_cuff",
        "teres_major",
        "coracobrachialis"
      ]
    },
    "Upper Arm": {
      "keywords": [
        "biceps brachii",
        "triceps brachii",
        "brachialis",
        "long head of biceps brachii",
        "short head of biceps brachii",
        "long head of triceps brachii",
        "lateral head of triceps brachii",
        "medial head of triceps brachii",
        "anconeus"
      ],
      "cameraPos": [
        0,
        0.2,
        2.2
      ],
      "target": [
        0,
        0.2,
        0
      ],
      "muscles": [
        "biceps",
        "triceps",
        "brachialis"
      ]
    },
    "Forearm": {
      "keywords": [
        "brachioradialis",
        "pronator teres",
        "pronator quadratus",
        "supinator",
        "flexor carpi radialis",
        "flexor carpi ulnaris",
        "extensor carpi radialis",
        "extensor carpi ulnaris",
        "palmaris longus",
        "flexor digitorum superficialis",
        "flexor digitorum profundus",
        "extensor digitorum",
        "extensor indicis",
        "extensor digiti minimi"
      ],
      "cameraPos": [
        0,
        0.2,
        2.2
      ],
      "target": [
        0,
        0.2,
        0
      ],
      "muscles": [
        "wrist_extensors_tennis_elbow",
        "wrist_flexors_golfers_elbow",
        "brachioradialis",
        "supinator",
        "pronator_teres",
        "anconeus",
        "finger_extensors",
        "finger_flexors"
      ]
    },
    "Wrist & Hand": {
      "keywords": [
        "abductor pollicis",
        "opponens pollicis",
        "flexor pollicis",
        "extensor pollicis",
        "adductor pollicis",
        "abductor digiti minimi of hand",
        "flexor digiti minimi of hand",
        "opponens digiti minimi muscle of hand",
        "lumbrical muscles of hand",
        "dorsal interossei muscles of hand",
        "palmar interossei",
        "extensor retinaculum of wrist"
      ],
      "cameraPos": [
        0,
        0.2,
        2.2
      ],
      "target": [
        0,
        0.2,
        0
      ],
      "muscles": [
        "thumb_muscles_thenar",
        "little_finger_muscles_hypothenar",
        "hand_intrinsic_muscles"
      ]
    },
    "Chest": {
      "keywords": [
        "pectoralis major",
        "pectoralis minor",
        "subclavius",
        "intercostal",
        "diaphragm",
        "sternocostal head of pectoralis",
        "clavicular head of pectoralis",
        "abdominal part of pectoralis",
        "serratus anterior"
      ],
      "cameraPos": [
        0,
        0.2,
        2.2
      ],
      "target": [
        0,
        0.2,
        0
      ],
      "muscles": [
        "pectoralis_major",
        "pectoralis_minor",
        "intercostals",
        "subclavius",
        "serratus_anterior",
        "diaphragm"
      ]
    },
    "Upper Back": {
      "keywords": [
        "latissimus dorsi",
        "rhomboid major",
        "rhomboid minor",
        "transverse part of trapezius",
        "ascending part of trapezius",
        "serratus posterior superior",
        "splenius",
        "semispinalis thoracis",
        "spinalis thoracis",
        "longissimus thoracis",
        "iliocostalis thoracis",
        "multifidus thoracis"
      ],
      "cameraPos": [
        0,
        0.2,
        -2.2
      ],
      "target": [
        0,
        0.2,
        0
      ],
      "muscles": [
        "rhomboids",
        "middle_trapezius",
        "lower_trapezius",
        "latissimus_dorsi",
        "thoracic_erector_spinae",
        "serratus_posterior_superior"
      ]
    },
    "Lower Back": {
      "keywords": [
        "multifidus lumborum",
        "quadratus lumborum",
        "iliocostalis lumborum",
        "longissimus lumborum",
        "serratus posterior inferior",
        "thoracolumbar"
      ],
      "cameraPos": [
        0,
        0.2,
        -2.2
      ],
      "target": [
        0,
        0.2,
        0
      ],
      "muscles": [
        "quadratus_lumborum_ql",
        "lumbar_erector_spinae",
        "multifidus_lumbar",
        "serratus_posterior_inferior",
        "thoracolumbar_fascia"
      ]
    },
    "Abdomen": {
      "keywords": [
        "rectus abdominis",
        "external abdominal oblique",
        "internal abdominal oblique",
        "transversus abdominis",
        "pyramidalis",
        "linea alba"
      ],
      "cameraPos": [
        0,
        0.2,
        2.2
      ],
      "target": [
        0,
        0.2,
        0
      ],
      "muscles": [
        "rectus_abdominis",
        "external_oblique",
        "internal_oblique",
        "transversus_abdominis"
      ]
    },
    "Hip & Pelvis": {
      "keywords": [
        "gluteus maximus",
        "gluteus medius",
        "gluteus minimus",
        "piriformis",
        "obturator externus",
        "obturator internus",
        "superior gemellus",
        "inferior gemellus",
        "quadratus femoris",
        "iliacus",
        "psoas major",
        "psoas minor",
        "tensor fasciae latae",
        "coccygeus",
        "iliococcygeus"
      ],
      "cameraPos": [
        0,
        0.2,
        2.2
      ],
      "target": [
        0,
        0.2,
        0
      ],
      "muscles": [
        "gluteus_maximus",
        "gluteus_medius",
        "gluteus_minimus",
        "piriformis",
        "hip_flexors_iliopsoas",
        "tensor_fasciae_latae_tfl",
        "deep_hip_rotators"
      ]
    },
    "Thigh": {
      "keywords": [
        "rectus femoris",
        "vastus lateralis",
        "vastus medialis",
        "vastus intermedius",
        "sartorius",
        "biceps femoris",
        "long head of biceps femoris",
        "short head of biceps femoris",
        "semitendinosus",
        "semimembranosus",
        "adductor longus",
        "adductor brevis",
        "adductor magnus",
        "adductor minimus",
        "gracilis",
        "pectineus",
        "iliotibial tract"
      ],
      "cameraPos": [
        0,
        0.2,
        2.2
      ],
      "target": [
        0,
        0.2,
        0
      ],
      "muscles": [
        "quadriceps",
        "hamstrings",
        "adductors_groin",
        "sartorius",
        "it_band"
      ]
    },
    "Knee": {
      "keywords": [
        "lateral patellar retinaculum",
        "medial patellar retinaculum",
        "popliteus"
      ],
      "cameraPos": [
        0,
        0.2,
        2.2
      ],
      "target": [
        0,
        0.2,
        0
      ],
      "muscles": [
        "patellar_tendon_retinaculum",
        "popliteus"
      ]
    },
    "Lower Leg": {
      "keywords": [
        "gastrocnemius",
        "lateral head of gastrocnemius",
        "medial head of gastrocnemius",
        "soleus",
        "tibialis anterior",
        "tibialis posterior",
        "fibularis longus",
        "fibularis brevis",
        "fibularis tertius",
        "plantaris",
        "calcaneal tendon",
        "flexor digitorum longus",
        "flexor hallucis longus",
        "extensor digitorum longus",
        "extensor hallucis longus"
      ],
      "cameraPos": [
        0,
        0.2,
        2.2
      ],
      "target": [
        0,
        0.2,
        0
      ],
      "muscles": [
        "gastrocnemius_calf",
        "soleus",
        "achilles_tendon",
        "tibialis_anterior_shin",
        "tibialis_posterior",
        "fibularis_peroneal_muscles",
        "plantaris",
        "toe_flexors_deep_posterior",
        "toe_extensors_anterior"
      ]
    },
    "Ankle & Foot": {
      "keywords": [
        "flexor digitorum brevis",
        "extensor digitorum brevis",
        "abductor hallucis",
        "flexor hallucis brevis",
        "extensor hallucis brevis",
        "adductor hallucis",
        "abductor digiti minimi of foot",
        "flexor digiti minimi of foot",
        "opponens digiti minimi muscle of foot",
        "lumbrical muscles of foot",
        "dorsal interossei muscles of foot",
        "plantar interossei",
        "quadratus plantae"
      ],
      "cameraPos": [
        0,
        0.2,
        2.2
      ],
      "target": [
        0,
        0.2,
        0
      ],
      "muscles": [
        "plantar_fascia",
        "foot_intrinsic_muscles",
        "big_toe_muscles",
        "small_toe_muscles"
      ]
    }
  },
  "muscles": {
    "masseter_jaw": {
      "id": "masseter_jaw",
      "name": "Masseter / Jaw",
      "region": "Head & Face",
      "keywords": [
        "masseter",
        "pterygoid",
        "deep part of masseter",
        "superficial part of masseter"
      ],
      "laymanDescription": "Jaw muscles used for chewing",
      "causes": [
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "TMJ Dysfunction / Chronic Jaw Tension",
          "solution": "Gentle jaw stretches daily, warm compress for 10-15 minutes, practice keeping teeth slightly apart during the day, stress management techniques, avoid chewing gum"
        },
        {
          "causeId": "posture",
          "causeLabel": "Stress or teeth grinding/clenching",
          "condition": "Bruxism-Related Jaw Pain",
          "solution": "Consider a night guard from your dentist, jaw relaxation exercises before bed, reduce caffeine, massage jaw muscles, apply warm compress before sleep"
        },
        {
          "causeId": "unknown",
          "causeLabel": "Don't know / Other",
          "condition": "Jaw Muscle Discomfort",
          "solution": "Avoid hard or chewy foods temporarily, gentle jaw stretches, warm compress, if pain persists more than 2 weeks consult a dentist or doctor"
        }
      ],
      "stretches": [
        {
          "name": "Jaw Relaxation",
          "description": "Let jaw hang open slightly, place tongue on roof of mouth behind front teeth, breathe deeply for 30 seconds. Repeat 3-5 times throughout the day.",
          "youtubeUrl": "https://youtu.be/EM18snVgV_c?si=gSJk_alVYhke2QY4&t=64"
        },
        {
          "name": "Jaw Side-to-Side Stretch",
          "description": "Open mouth slightly, slowly move jaw to the left, hold 5 seconds, then to the right. Repeat 5 times each side. Move gently, never force.",
          "youtubeUrl": "https://youtu.be/DFg77J06roE?si=IXPogVYckF5EBd7P"
        },
        {
          "name": "Resisted Jaw Opening",
          "description": "Place thumb under chin, open mouth slowly against light resistance, hold 5 seconds. Repeat 10 times. Strengthens and relaxes jaw muscles.",
          "youtubeUrl": "https://youtu.be/cAr0I4gFeT8?si=avnqnhGbru4krNnT&t=13"
        }
      ]
    },
    "temporalis_temple": {
      "id": "temporalis_temple",
      "name": "Temporalis / Temple",
      "region": "Head & Face",
      "keywords": [
        "temporalis"
      ],
      "laymanDescription": "Temple area, side of head",
      "causes": [
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Tension Headache / Temporal Muscle Tightness",
          "solution": "Regular temple massage, stay hydrated (dehydration worsens headaches), take breaks from screens every 30 minutes, practice relaxation techniques"
        },
        {
          "causeId": "posture",
          "causeLabel": "After prolonged screen work or concentration",
          "condition": "Screen-Related Tension Headache",
          "solution": "Follow 20-20-20 rule (every 20 min, look 20 feet away for 20 sec), adjust monitor to eye level, reduce screen brightness, temple massage during breaks"
        },
        {
          "causeId": "unknown",
          "causeLabel": "Don't know / Other",
          "condition": "Temple Area Discomfort",
          "solution": "Gentle temple massage, ensure adequate sleep, stay hydrated, reduce caffeine if excessive, if severe or sudden onset seek medical attention"
        }
      ],
      "stretches": [
        {
          "name": "Base skull release",
          "description": "Place tongue on roof of mouth, let teeth separate naturally, relax jaw completely. Hold for 30 seconds. This releases temple tension.",
          "youtubeUrl": "https://youtu.be/G47ei7_PgTg?si=PO1f0MFnF00jnQal&t=58"
        },
        {
          "name": "Temple Massage",
          "description": "Use fingertips to massage temples in slow circular motions for 1-2 minutes. Apply moderate pressure. Do this several times daily.",
          "youtubeUrl": "https://youtu.be/0qZScBozMhk?si=ZYzmVaAc4dp2ttoY&t=52"
        },
        {
          "name": "Upper back and shoulder release",
          "description": "Place fingertips on scalp above ears, apply gentle pressure and make small circles. Move across entire scalp. 2 minutes.",
          "youtubeUrl": "https://www.youtube.com/watch?v=Lz-LPUDxHhg&t=330"
        }
      ]
    },
    "frontalis_forehead": {
      "id": "frontalis_forehead",
      "name": "Frontalis / Forehead",
      "region": "Head & Face",
      "keywords": [
        "frontalis",
        "occipitalis"
      ],
      "laymanDescription": "Forehead muscles",
      "causes": [
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Tension Headache / Forehead Tightness",
          "solution": "Gentle forehead massage, reduce screen time, practice relaxation techniques, stay hydrated, check if you need glasses"
        },
        {
          "causeId": "posture",
          "causeLabel": "After prolonged screen work or concentration",
          "condition": "Screen-Related Forehead Tension",
          "solution": "Take regular screen breaks (20-20-20 rule), adjust monitor height, reduce eyebrow furrowing, massage temples and forehead"
        },
        {
          "causeId": "unknown",
          "causeLabel": "Don't know / Other",
          "condition": "Forehead Muscle Discomfort",
          "solution": "Gently massage forehead in circular motions, apply warm compress, reduce caffeine, practice stress management"
        }
      ],
      "stretches": [
        {
          "name": "Brow Pinchin",
          "description": "Raise your eyebrows as high as possible, hold for 5 seconds, then relax completely. Repeat 10 times. This helps release tension in the frontalis muscle.",
          "youtubeUrl": "https://youtu.be/maYkOqPMCUg?si=xR03IPKYXqHGy4N0&t=31"
        },
        {
          "name": "Forehead Massage",
          "description": "Using your fingertips, massage your forehead in small circular motions from the center outward. Spend 1-2 minutes. Apply moderate pressure.",
          "youtubeUrl": "https://youtu.be/2J8Ue5i5wDI?si=LF90Ry9k9u-t-i6L&t=14"
        },
        {
          "name": "Scalp and Forehead Release",
          "description": "Place fingertips at hairline, gently pull skin upward while looking down. Hold 10 seconds. Helps release tension across entire forehead.",
          "youtubeUrl": "https://youtu.be/m4Ti6cC1d98?si=Taa9VRzAmNCkMRwI&t=10"
        }
      ]
    },
    "sternocleidomastoid_scm": {
      "id": "sternocleidomastoid_scm",
      "name": "Sternocleidomastoid (SCM)",
      "region": "Neck",
      "keywords": [
        "sternocleidomastoid"
      ],
      "laymanDescription": "Front sides of neck, runs from behind ear to collarbone",
      "causes": [
        {
          "causeId": "sudden",
          "causeLabel": "Sudden movement or injury",
          "condition": "Acute SCM Strain / Neck Sprain",
          "solution": "Rest neck for 24-48 hours, apply ice for 15-20 min several times daily, avoid sudden head movements, sleep with supportive pillow, gentle movement after initial rest"
        },
        {
          "causeId": "posture",
          "causeLabel": "After prolonged screen use or poor posture",
          "condition": "Tech Neck / Postural SCM Strain",
          "solution": "Raise screen to eye level, chin tucks every hour, take breaks every 30 minutes, strengthen deep neck flexors, check pillow height for sleeping"
        },
        {
          "causeId": "sleep",
          "causeLabel": "After sleeping in an awkward position",
          "condition": "Wry Neck / Torticollis",
          "solution": "Gentle heat application, very slow and gentle range of motion, avoid forcing movement, usually resolves in 1-3 days, consider pillow change"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Chronic SCM Tension / Trigger Points",
          "solution": "Daily neck stretches, regular posture checks, workstation ergonomics review, stress management, consider professional massage"
        }
      ],
      "stretches": [
        {
          "name": "Chin Tuck",
          "description": "Sit tall, pull chin straight back making a 'double chin', hold 5 seconds, release. Repeat 10 times. Great for posture and neck strength.",
          "youtubeUrl": "https://www.youtube.com/watch?v=7rnlAVhAK-8"
        },
        {
          "name": "Ear to Shoulder Stretch",
          "description": "Sit or stand tall, gently tilt right ear toward right shoulder until you feel a stretch on the left side. Hold 30 seconds. Repeat other side. Don't force.",
          "youtubeUrl": "https://youtu.be/t-1Z2ZYpmt0?si=RuBmX84_VgsToFWo&t=74"
        },
        {
          "name": "Rotation Stretch",
          "description": "Turn head slowly to look over right shoulder, hold 15-20 seconds, return to center, repeat to left. Keep shoulders relaxed and down.",
          "youtubeUrl": "https://www.youtube.com/watch?v=wQylqaCl8Zo&t=300"
        }
      ]
    },
    "upper_trapezius": {
      "id": "upper_trapezius",
      "name": "Upper Trapezius",
      "region": "Neck",
      "keywords": [
        "descending part of trapezius"
      ],
      "laymanDescription": "Upper back and sides of neck",
      "causes": [
        {
          "causeId": "sudden",
          "causeLabel": "Sudden movement or injury",
          "condition": "Acute Upper Trap Strain",
          "solution": "Ice for first 48 hours, rest from aggravating activities, gentle movement within pain limits after initial rest, avoid carrying bags on affected side"
        },
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (carrying bags, work)",
          "condition": "Upper Trap Overuse / Myofascial Pain",
          "solution": "Switch bag to opposite shoulder or use backpack, regular stretching breaks, strengthen mid/lower traps, workstation ergonomics assessment"
        },
        {
          "causeId": "posture",
          "causeLabel": "After prolonged sitting or computer work",
          "condition": "Postural Upper Trap Syndrome",
          "solution": "Set hourly reminders to check posture, shoulder blade squeezes every hour, monitor at eye level, keyboard and mouse close to body"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually (often stress-related)",
          "condition": "Chronic Upper Trap Tension / Trigger Points",
          "solution": "Daily stretching routine, stress management techniques, regular movement breaks, heat therapy, consider massage therapy"
        }
      ],
      "stretches": [
        {
          "name": "Shoulder Blade Squeeze",
          "description": "Sit tall, squeeze shoulder blades together as if holding a pencil between them, hold 5 seconds, release. Repeat 10-15 times.",
          "youtubeUrl": "https://youtu.be/ouRhQE2iOI8?si=wjHn6ZsZ7q1Pfqph&t=6"
        },
        {
          "name": "Shoulder Rolls",
          "description": "Roll shoulders backward in slow circles 10 times, then forward 10 times. Do this every hour when working at desk.",
          "youtubeUrl": "https://www.youtube.com/watch?v=X7NtgY9kCCM"
        },
        {
          "name": "Upper Trap Stretch",
          "description": "Sit tall, hold chair with right hand, tilt left ear to left shoulder while looking straight ahead. Hold 30 seconds. Repeat other side.",
          "youtubeUrl": "https://www.youtube.com/watch?v=z4jptepVuq4"
        }
      ]
    },
    "levator_scapulae": {
      "id": "levator_scapulae",
      "name": "Levator Scapulae",
      "region": "Neck",
      "keywords": [
        "levator scapulae"
      ],
      "laymanDescription": "Side of neck to shoulder blade",
      "causes": [
        {
          "causeId": "sudden",
          "causeLabel": "Sudden movement or injury",
          "condition": "Acute Levator Scapulae Strain",
          "solution": "Ice for first 48 hours, avoid looking over shoulder, rest from overhead activities, gentle movement after initial rest"
        },
        {
          "causeId": "posture",
          "causeLabel": "After prolonged posture (phone, computer)",
          "condition": "Levator Scapulae Syndrome",
          "solution": "Avoid cradling phone on shoulder, raise screen to eye level, regular stretch breaks, strengthen shoulder blade muscles"
        },
        {
          "causeId": "sleep",
          "causeLabel": "After sleeping in an awkward position",
          "condition": "Sleep-Related Levator Strain",
          "solution": "Evaluate pillow height and firmness, sleep on back or side with proper support, gentle heat and stretching, usually resolves in 2-5 days"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Chronic Levator Scapulae Tightness",
          "solution": "Daily levator stretches, posture correction, workstation ergonomics, stress management, consider professional assessment if persistent"
        }
      ],
      "stretches": [
        {
          "name": "Levator Scapulae Stretch",
          "description": "Sit tall, turn head 45\u00b0 to the right, look down toward your right armpit, use right hand to gently pull head down. Hold 30 seconds. Repeat left.",
          "youtubeUrl": "https://youtu.be/GSoXPJRnR6E?si=3gx-afm2en9NgBfn&t=5"
        },
        {
          "name": "Neck Rotation with Flexion",
          "description": "Turn head to one side, then drop chin toward chest while turned. Feel stretch at back of neck. Hold 20 seconds each side.",
          "youtubeUrl": "https://www.youtube.com/watch?v=M9YJGoL5aR8"
        },
        {
          "name": "Thread the Needle",
          "description": "On all fours, reach right arm under body to the left, let right shoulder drop to floor, hold 30 seconds. Repeat other side.",
          "youtubeUrl": "https://www.youtube.com/watch?v=rlac1t_QQJM"
        }
      ]
    },
    "scalenes": {
      "id": "scalenes",
      "name": "Scalenes",
      "region": "Neck",
      "keywords": [
        "scalenus anterior",
        "scalenus medius",
        "scalenus posterior"
      ],
      "laymanDescription": "Deep side neck muscles",
      "causes": [
        {
          "causeId": "posture",
          "causeLabel": "After prolonged computer work or carrying bags",
          "condition": "Scalene Tension / Thoracic Outlet Symptoms",
          "solution": "Avoid carrying bags on one shoulder, ear-to-shoulder stretch, scalene stretch (tilt head away, look up slightly), use backpack instead"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, may have arm numbness/tingling",
          "condition": "Scalene Trigger Points / Nerve Compression",
          "solution": "Gentle scalene stretches, avoid forward head posture, stress management, if numbness persists seek professional assessment"
        }
      ],
      "stretches": [
        {
          "name": "Ear to Shoulder Stretch",
          "description": "Sit tall, gently tilt right ear toward right shoulder. For deeper stretch, place right hand on left side of head. Hold 30 seconds each side.",
          "youtubeUrl": "https://youtu.be/t-1Z2ZYpmt0?si=RuBmX84_VgsToFWo&t=74"
        },
        {
          "name": "Scalene Stretch",
          "description": "Sit tall, tilt head to right, then rotate slightly to look up toward ceiling. Place right hand on left collarbone. Hold 30 seconds each side.",
          "youtubeUrl": "https://youtu.be/K4RT5VWhptg?si=c5zXon5I3eI-0Tv2&t=5"
        }
      ]
    },
    "splenius_capitiscervicis": {
      "id": "splenius_capitiscervicis",
      "name": "Splenius Capitis/Cervicis",
      "region": "Neck",
      "keywords": [
        "splenius capitis",
        "splenius colli"
      ],
      "laymanDescription": "Deep back of neck",
      "causes": [],
      "stretches": [
        {
          "name": "Neck Rotation Stretch",
          "description": "Sit tall, slowly turn head to look over right shoulder, hold 15-20 seconds. Return to center, repeat to left. Keep shoulders relaxed.",
          "youtubeUrl": "https://www.youtube.com/watch?v=wQylqaCl8Zo&t=300"
        },
        {
          "name": "Chin Tuck",
          "description": "Sit tall, pull chin straight back making a 'double chin', hold 5 seconds, release. Repeat 10 times. Strengthens deep neck muscles.",
          "youtubeUrl": "https://www.youtube.com/watch?v=wQylqaCl8Zo&t=200"
        }
      ]
    },
    "suboccipital_muscles": {
      "id": "suboccipital_muscles",
      "name": "Suboccipital Muscles",
      "region": "Neck",
      "keywords": [
        "rectus anterior capitis",
        "rectus lateralis capitis",
        "rectus posterior major capitis",
        "rectus posterior minor capitis",
        "obliquus inferior capitis",
        "obliquus superior capitis"
      ],
      "laymanDescription": "Base of skull, top of neck",
      "causes": [
        {
          "causeId": "posture",
          "causeLabel": "After prolonged screen work or reading",
          "condition": "Suboccipital Tension Headache",
          "solution": "Chin tucks, 20-20-20 rule for screens, suboccipital release with tennis ball, ensure proper glasses prescription"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, headaches at base of skull",
          "condition": "Chronic Suboccipital Tightness",
          "solution": "Daily suboccipital stretches, self-massage at skull base, address forward head posture, reduce screen time"
        }
      ],
      "stretches": [
        {
          "name": "Chin Tuck with Nod",
          "description": "Do chin tuck, then gently nod head as if saying 'yes'. This targets the deep suboccipital muscles. 10 slow repetitions.",
          "youtubeUrl": "https://youtu.be/_AknIUAwvP0?si=DwJpJGrVTX5FDRlu&t=38"
        },
        {
          "name": "Suboccipital Release",
          "description": "Lie on back with two tennis balls in a sock under base of skull. Let head rest on balls, breathe deeply for 2-3 minutes.",
          "youtubeUrl": "https://youtu.be/G47ei7_PgTg?si=t-X8xH3iMLAP_nid&t=72"
        }
      ]
    },
    "longus_collicapitis": {
      "id": "longus_collicapitis",
      "name": "Longus Colli/Capitis",
      "region": "Neck",
      "keywords": [
        "longus colli",
        "longus capitis"
      ],
      "laymanDescription": "Deep front neck stabilizers",
      "causes": [
        {
          "causeId": "posture",
          "causeLabel": "After prolonged sitting or forward head posture",
          "condition": "Deep Neck Flexor Weakness/Strain",
          "solution": "Chin tuck exercises, improve workstation ergonomics, take regular posture breaks, strengthen deep neck flexors gradually"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Chronic Neck Instability",
          "solution": "Focus on neck stability exercises, avoid prolonged looking down at phone, pillow adjustment for sleeping, gentle chin tucks"
        },
        {
          "causeId": "unknown",
          "causeLabel": "Don't know / Other",
          "condition": "Deep Neck Discomfort",
          "solution": "Gentle chin tucks, avoid extreme neck positions, if symptoms persist consult a physiotherapist for assessment"
        }
      ],
      "stretches": [
        {
          "name": "Chin Tuck Exercise",
          "description": "Sit or stand tall, gently draw your chin back as if making a double chin. Hold for 5-10 seconds, relax. Repeat 10-15 times. Strengthens deep neck flexors.",
          "youtubeUrl": "https://www.youtube.com/watch?v=7rnlAVhAK-8"
        },
        {
          "name": "Deep Neck Flexor Activation",
          "description": "Lie on back, tuck chin slightly, lift head just 1 inch off floor. Hold 5-10 seconds. This activates deep stabilizers without straining.",
          "youtubeUrl": "https://www.youtube.com/watch?v=lRKWP2LzCmw"
        },
        {
          "name": "Supine Chin Tuck",
          "description": "Lie on your back without a pillow. Gently press the back of your head into the floor while tucking chin. Hold 5 seconds. Repeat 10 times.",
          "youtubeUrl": "https://youtu.be/oinuIh47Www?si=nzq-0nTG9kteO4x9&t=7"
        }
      ]
    },
    "platysma": {
      "id": "platysma",
      "name": "Platysma",
      "region": "Neck",
      "keywords": [
        "platysma"
      ],
      "laymanDescription": "Thin muscle covering front of neck",
      "causes": [
        {
          "causeId": "posture",
          "causeLabel": "Stress or teeth clenching",
          "condition": "Platysma Tension",
          "solution": "Jaw relaxation exercises, reduce stress, gentle neck stretches, avoid clenching during the day"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Neck and Jaw Tension",
          "solution": "Gentle stretching of front of neck, massage along jawline, stress management, check sleeping position"
        },
        {
          "causeId": "unknown",
          "causeLabel": "Don't know / Other",
          "condition": "Front Neck Tightness",
          "solution": "Gently stretch front of neck by looking up, massage from jaw to collarbone, if persistent consult a professional"
        }
      ],
      "stretches": [
        {
          "name": "Jaw and Neck Release",
          "description": "Open mouth wide, then close slowly while gently pressing chin down with fingers. Helps release tension in platysma and jaw muscles.",
          "youtubeUrl": "https://youtu.be/VFC2vIUbg6U?si=8b4dMyBmVUJRH4lZ&t=219"
        },
        {
          "name": "Neck Extension Stretch",
          "description": "Sit tall, slowly tilt head back looking at ceiling. Keep shoulders down. Hold 15 seconds. Gently return to neutral. Repeat 3 times.",
          "youtubeUrl": "https://www.youtube.com/watch?v=ML9tj2g83Q8"
        },
        {
          "name": "Platysma Stretch",
          "description": "Tilt head back slightly, jut lower jaw forward and upward. You should feel a stretch in the front of your neck. Hold 15-20 seconds. Repeat 3 times.",
          "youtubeUrl": "https://youtu.be/L-Kw4lftgaY?si=H-srlhz0yINjkZZK&t=22"
        }
      ]
    },
    "cervical_erector_spinae": {
      "id": "cervical_erector_spinae",
      "name": "Cervical Erector Spinae",
      "region": "Neck",
      "keywords": [
        "semispinalis colli",
        "semispinalis capitis",
        "multifidus colli",
        "spinalis colli",
        "longissimus colli",
        "iliocostalis colli"
      ],
      "laymanDescription": "Muscles along the back of the neck",
      "causes": [
        {
          "causeId": "posture",
          "causeLabel": "After prolonged sitting, standing, or poor posture",
          "condition": "Cervical Extensor Strain",
          "solution": "Improve posture, chin tucks, gentle neck stretches, ergonomic workstation setup, regular breaks from desk work"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Chronic Neck Extensor Tightness",
          "solution": "Regular stretching routine, strengthen deep neck flexors to balance, heat therapy, posture correction"
        },
        {
          "causeId": "sleep",
          "causeLabel": "After sleeping in an awkward position",
          "condition": "Neck Stiffness",
          "solution": "Gentle range of motion exercises, warm compress, supportive pillow, avoid sleeping on stomach"
        }
      ],
      "stretches": [
        {
          "name": "Cat-Cow for Neck",
          "description": "On hands and knees, slowly round spine tucking chin (cat), then arch back looking up (cow). Focus on neck movement. Repeat 10 times slowly.",
          "youtubeUrl": "https://youtu.be/sQd3GnSfE9A?si=Ss76wCm32Y2k4QIn&t=56"
        },
        {
          "name": "Chin to Chest Stretch",
          "description": "Sit tall, gently drop chin toward chest. Place hands behind head for gentle added pressure. Hold 20-30 seconds. Stretches back of neck.",
          "youtubeUrl": "https://youtu.be/GjS3i2-BlxA?si=RLvgXUHOoKgipXrp&t=5"
        },
        {
          "name": "Neck Rotation Stretch",
          "description": "Sit tall, slowly turn head to look over one shoulder. Hold 15 seconds. Return to center, repeat other side. Helps loosen neck extensors.",
          "youtubeUrl": "https://www.youtube.com/watch?v=ZgeO87_VFog"
        }
      ]
    },
    "deltoid": {
      "id": "deltoid",
      "name": "Deltoid",
      "region": "Shoulder",
      "keywords": [
        "deltoid",
        "clavicular part of deltoid",
        "acromial part of deltoid",
        "scapular spinal part of deltoid"
      ],
      "laymanDescription": "Rounded muscle cap of the shoulder",
      "causes": [
        {
          "causeId": "sudden",
          "causeLabel": "Sudden movement or injury",
          "condition": "Acute Deltoid Strain",
          "solution": "RICE protocol (Rest, Ice, Compress, Elevate), avoid lifting arm away from body, sling may help for severe pain, gentle pendulum exercises after 48-72 hours"
        },
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (sports, work overhead)",
          "condition": "Deltoid Overuse / Tendinopathy",
          "solution": "Reduce overhead activity volume by 50%, ice after activity, gradual strengthening once pain settles, address technique issues"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Deltoid Bursitis / Chronic Strain",
          "solution": "Avoid sleeping on affected side, gentle stretching and pendulum exercises, anti-inflammatory measures, gradual return to activity"
        }
      ],
      "stretches": [
        {
          "name": "Arm Across Chest Variation",
          "description": "Arm across chest at different heights (low, middle, high) to target all parts of deltoid. Hold each position 20 seconds.",
          "youtubeUrl": "https://www.youtube.com/watch?v=-1K0m5ywRcY"
        },
        {
          "name": "Cross-Body Shoulder Stretch",
          "description": "Bring right arm across chest, use left hand to pull it closer until you feel a stretch in the shoulder. Hold 30 seconds. Repeat other side.",
          "youtubeUrl": "https://www.youtube.com/watch?v=CPnpQVDzVgM"
        },
        {
          "name": "Pendulum Exercise",
          "description": "Lean forward on a table with good arm, let affected arm hang, swing gently in small circles. 30 seconds each direction. Great for mobility.",
          "youtubeUrl": "https://www.youtube.com/watch?v=YYvl59eU78M"
        }
      ]
    },
    "rotator_cuff": {
      "id": "rotator_cuff",
      "name": "Rotator Cuff",
      "region": "Shoulder",
      "keywords": [
        "supraspinatus",
        "infraspinatus",
        "teres minor",
        "subscapularis"
      ],
      "laymanDescription": "Deep shoulder stabilizer muscles",
      "causes": [
        {
          "causeId": "sudden",
          "causeLabel": "Sudden movement or injury",
          "condition": "Acute Rotator Cuff Strain/Tear",
          "solution": "Rest from overhead activities, ice 15-20 min several times daily, sleep with pillow under arm, if unable to lift arm seek medical evaluation"
        },
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive overhead activity (sports, work)",
          "condition": "Rotator Cuff Tendinopathy",
          "solution": "Reduce overhead activity by 50%, ice after activity, rotator cuff strengthening exercises, address technique and posture"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, worse at night",
          "condition": "Rotator Cuff Impingement / Chronic Tendinopathy",
          "solution": "Avoid sleeping on affected side, doorway stretches, rotator cuff strengthening, posture correction, may need professional assessment"
        }
      ],
      "stretches": [
        {
          "name": "Assisted flexion",
          "description": "Stand in doorway, place forearm on frame at 90\u00b0, step forward with one foot until you feel a chest/shoulder stretch. Hold 30 seconds.",
          "youtubeUrl": "https://youtu.be/70UxCj6AoPo?si=plUqiAeNf2PYzvyI&t=132"
        },
        {
          "name": "External Rotation Stretch",
          "description": "Hold a stick behind your back, affected hand at bottom, use top hand to pull stick up, rotating the shoulder. Hold 30 seconds.",
          "youtubeUrl": "https://youtu.be/TbqBSx14QsQ?si=teBvSXIuw2Xx5fP8&t=10"
        },
        {
          "name": "Wall Slide",
          "description": "Lie on affected side, elbow bent 90\u00b0, use other hand to gently push forearm toward floor. Stop if painful. Hold 30 seconds.",
          "youtubeUrl": "https://youtu.be/70UxCj6AoPo?si=y2C8Tj0I1FVoHwol&t=226"
        }
      ]
    },
    "teres_major": {
      "id": "teres_major",
      "name": "Teres Major",
      "region": "Shoulder",
      "keywords": [
        "teres major"
      ],
      "laymanDescription": "Back of shoulder, below shoulder blade",
      "causes": [
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (sports, work, exercise)",
          "condition": "Teres Major Strain",
          "solution": "Rest from overhead activities, ice for acute pain, gentle stretching once pain subsides, strengthen rotator cuff"
        },
        {
          "causeId": "sudden",
          "causeLabel": "Sudden movement or injury",
          "condition": "Acute Teres Major Strain",
          "solution": "Rest and ice initially, avoid lifting, gentle pendulum exercises, gradual return to activity"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Chronic Shoulder Tightness",
          "solution": "Regular stretching of lat and teres major, strengthen rotator cuff, improve posture, consider massage therapy"
        }
      ],
      "stretches": [
        {
          "name": "Child's Pose with Side Reach",
          "description": "In child's pose, walk hands to one side to feel a stretch along the side of your back and shoulder. Hold 30 seconds each side.",
          "youtubeUrl": "https://www.youtube.com/watch?v=YTAwpiX2Dsg"
        },
        {
          "name": "Cross-Body Arm Stretch",
          "description": "Bring one arm across your chest. Use opposite hand to gently pull the arm closer. Hold 20-30 seconds. Repeat 3 times each side.",
          "youtubeUrl": "https://www.youtube.com/watch?v=-1K0m5ywRcY"
        },
        {
          "name": "Doorway Lat Stretch",
          "description": "Hold onto a doorframe at shoulder height. Step through and lean forward, letting your arm stretch behind. Hold 20-30 seconds each side.",
          "youtubeUrl": "https://youtu.be/SAZDip5crww?si=gaAZXg8v4FHBn44Z&t=14"
        }
      ]
    },
    "coracobrachialis": {
      "id": "coracobrachialis",
      "name": "Coracobrachialis",
      "region": "Shoulder",
      "keywords": [
        "coracobrachialis"
      ],
      "laymanDescription": "Deep front shoulder and upper arm",
      "causes": [
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (sports, work, exercise)",
          "condition": "Coracobrachialis Overuse",
          "solution": "Rest from repetitive arm movements, ice if inflamed, gentle stretching, strengthen shoulder stabilizers"
        },
        {
          "causeId": "sudden",
          "causeLabel": "Sudden movement or injury",
          "condition": "Coracobrachialis Strain",
          "solution": "Rest, ice, compression, avoid lifting, gentle range of motion exercises as pain allows"
        },
        {
          "causeId": "unknown",
          "causeLabel": "Don't know / Other",
          "condition": "Front Shoulder Discomfort",
          "solution": "Gentle pec and bicep stretches, avoid heavy lifting, if pain persists see a physiotherapist"
        }
      ],
      "stretches": [
        {
          "name": "Behind Back Arm Stretch",
          "description": "Reach both arms behind your back, clasp hands. Gently lift arms while keeping chest up. Hold 20 seconds. Stretches front of shoulders.",
          "youtubeUrl": "https://youtu.be/S4JoZx7MNOs?si=JGOeBGvrR-9IOqr4&t=3"
        },
        {
          "name": "Doorway Pec Stretch",
          "description": "Stand in doorway with arm at 90 degrees against frame. Step forward to stretch front of shoulder and chest. Hold 20-30 seconds each side.",
          "youtubeUrl": "https://www.youtube.com/watch?v=B9uY01NoqBg"
        },
        {
          "name": "Wall Angel Exercise",
          "description": "Stand with back against wall, arms in 'W' position. Slowly slide arms up and down wall. Helps mobilize front shoulder while strengthening back.",
          "youtubeUrl": "https://youtu.be/1UU4VvklQ44?si=KzjRE7l6_lEPLIdp"
        }
      ]
    },
    "biceps": {
      "id": "biceps",
      "name": "Biceps",
      "region": "Upper Arm",
      "keywords": [
        "biceps brachii",
        "long head of biceps brachii",
        "short head of biceps brachii"
      ],
      "laymanDescription": "Front of upper arm",
      "causes": [
        {
          "causeId": "sudden",
          "causeLabel": "Sudden movement or heavy lift",
          "condition": "Acute Biceps Strain",
          "solution": "RICE protocol, avoid lifting for 1-2 weeks, ice for first 48-72 hours, gentle elbow movement to prevent stiffness"
        },
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (lifting, curling)",
          "condition": "Biceps Tendinopathy",
          "solution": "Reduce lifting volume by 50%, avoid palm-up lifting, ice after activity, gradual eccentric strengthening once pain settles"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Chronic Biceps Tendinitis",
          "solution": "Bicep stretches daily, avoid aggravating movements, strengthen with light weights and high reps, address shoulder mechanics"
        }
      ],
      "stretches": [
        {
          "name": "Bicep Wall Stretch",
          "description": "Place palm on wall behind you at shoulder height, arm straight, slowly turn body away from wall until you feel a stretch in bicep. Hold 30 seconds.",
          "youtubeUrl": "https://www.youtube.com/watch?v=QY4gCIYbGQk"
        },
        {
          "name": "Doorway Bicep Stretch",
          "description": "Hold doorframe with arm straight and thumb pointing down, turn body away from arm. Hold 30 seconds each side.",
          "youtubeUrl": "https://www.youtube.com/watch?v=a_cRC9PMwKs"
        },
        {
          "name": "Seated Bicep Stretch",
          "description": "Sit on floor, hands behind you with fingers pointing back, slowly slide buttocks forward until you feel bicep stretch. Hold 30 seconds.",
          "youtubeUrl": "https://www.youtube.com/watch?v=IYlXSQLDHmo"
        }
      ]
    },
    "triceps": {
      "id": "triceps",
      "name": "Triceps",
      "region": "Upper Arm",
      "keywords": [
        "triceps brachii",
        "long head of triceps brachii",
        "lateral head of triceps brachii",
        "medial head of triceps brachii"
      ],
      "laymanDescription": "Back of upper arm",
      "causes": [
        {
          "causeId": "sudden",
          "causeLabel": "Sudden movement or injury",
          "condition": "Acute Triceps Strain",
          "solution": "RICE protocol, avoid pushing movements, ice for first 48-72 hours, gentle elbow bending to prevent stiffness"
        },
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (pushups, pressing)",
          "condition": "Triceps Tendinopathy",
          "solution": "Reduce pushing exercises by 50%, avoid dips and close-grip pressing, ice after activity, gradual return with lighter weights"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Chronic Triceps Tightness",
          "solution": "Daily tricep stretches, self-massage, gradual strengthening, check for elbow alignment issues"
        }
      ],
      "stretches": [
        {
          "name": "Assisted Tricep Stretch",
          "description": "Bring right arm across chest, bend elbow, use left hand to gently push arm toward body. Hold 30 seconds each side.",
          "youtubeUrl": "https://www.youtube.com/watch?v=EQaqm7ycY5s"
        },
        {
          "name": "Long head tricep strech",
          "description": "Hold towel in right hand overhead, let it hang behind back, grab bottom with left hand, gently pull down. Hold 30 seconds each side.",
          "youtubeUrl": "https://www.youtube.com/watch?v=N-oT_yu8p6c"
        },
        {
          "name": "Overhead Tricep Stretch",
          "description": "Raise right arm overhead, bend elbow so hand reaches toward left shoulder blade, use left hand to gently push elbow back. Hold 30 seconds.",
          "youtubeUrl": "https://www.youtube.com/watch?v=qsyrvNY8uBA"
        }
      ]
    },
    "brachialis": {
      "id": "brachialis",
      "name": "Brachialis",
      "region": "Upper Arm",
      "keywords": [
        "brachialis"
      ],
      "laymanDescription": "Deep front of upper arm, under biceps",
      "causes": [
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (climbing, curling, chin-ups)",
          "condition": "Brachialis Strain / Climber's Elbow",
          "solution": "Reduce climbing/curling volume by 50%, ice after activity, elbow extension stretches, eccentric wrist curls"
        },
        {
          "causeId": "sudden",
          "causeLabel": "Sudden strain or heavy lift",
          "condition": "Acute Brachialis Strain",
          "solution": "RICE protocol, rest from gripping for 1-2 weeks, gentle elbow movement"
        }
      ],
      "stretches": [
        {
          "name": "Elbow Extension Stretch",
          "description": "Extend arm straight with palm facing down. Use other hand to gently straighten elbow further. Hold 30 seconds each arm.",
          "youtubeUrl": "https://youtu.be/ry8lUjavfr8?si=BjrHLZVT1JqWYCjb&t=24"
        }
      ]
    },
    "wrist_extensors_tennis_elbow": {
      "id": "wrist_extensors_tennis_elbow",
      "name": "Wrist Extensors (Tennis Elbow)",
      "region": "Forearm",
      "keywords": [
        "extensor carpi radialis longus",
        "extensor carpi radialis brevis",
        "extensor carpi ulnaris",
        "humeral head of extensor carpi ulnaris",
        "ulnar head of extensor carpi ulnaris"
      ],
      "laymanDescription": "Outer forearm near elbow",
      "causes": [],
      "stretches": [
        {
          "name": "Wrist Extensor Stretch",
          "description": "Extend right arm straight, palm facing down, use left hand to gently bend wrist down until you feel a stretch on top of forearm. Hold 30 seconds.",
          "youtubeUrl": "https://www.youtube.com/watch?v=gDxRn36D8Vc&t=120"
        },
        {
          "name": "Eccentric Wrist Extension",
          "description": "Hold light weight (1-2 lbs), palm down on table edge, slowly lower wrist down (3 seconds), use other hand to help lift back up. 15 reps, 3 sets.",
          "youtubeUrl": "https://www.youtube.com/watch?v=gDxRn36D8Vc&t=330"
        },
        {
          "name": "Forearm Pronation/Supination",
          "description": "Hold hammer or weighted object, arm at side with elbow bent, slowly rotate forearm palm up then palm down. 15 reps each direction.",
          "youtubeUrl": "https://www.youtube.com/watch?v=gDxRn36D8Vc&t=465"
        }
      ]
    },
    "wrist_flexors_golfers_elbow": {
      "id": "wrist_flexors_golfers_elbow",
      "name": "Wrist Flexors (Golfer's Elbow)",
      "region": "Forearm",
      "keywords": [
        "flexor carpi radialis",
        "flexor carpi ulnaris",
        "humeral head of flexor carpi ulnaris",
        "ulnar head of flexor carpi ulnaris",
        "palmaris longus",
        "humero-ulnar head of flexor digitorum superficialis",
        "radial head of flexor digitorum superficialis"
      ],
      "laymanDescription": "Inner forearm near elbow",
      "causes": [],
      "stretches": [
        {
          "name": "Wrist Flexor Stretch",
          "description": "Extend right arm straight, palm facing up, use left hand to gently pull fingers back toward you. Feel stretch on inner forearm. Hold 30 seconds.",
          "youtubeUrl": "https://www.youtube.com/watch?v=CLjtSyuE11I&t=105"
        },
        {
          "name": "Eccentric Wrist Flexion",
          "description": "Hold light weight, palm up on table edge, slowly lower wrist down (3 seconds), use other hand to help lift back up. 15 reps, 3 sets.",
          "youtubeUrl": "https://www.youtube.com/watch?v=CLjtSyuE11I&t=240"
        },
        {
          "name": "Prayer Stretch",
          "description": "Press palms together in front of chest in prayer position, slowly lower hands while keeping palms together until you feel a stretch. Hold 30 seconds.",
          "youtubeUrl": "https://www.youtube.com/watch?v=CLjtSyuE11I&t=375"
        }
      ]
    },
    "brachioradialis": {
      "id": "brachioradialis",
      "name": "Brachioradialis",
      "region": "Forearm",
      "keywords": [
        "brachioradialis"
      ],
      "laymanDescription": "Outer forearm, from elbow to wrist",
      "causes": [
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive gripping or tool use",
          "condition": "Brachioradialis Strain",
          "solution": "Rest from hammer/screwdriver use, forearm stretches, use power tools when possible"
        }
      ],
      "stretches": [
        {
          "name": "Forearm Pronation Stretch",
          "description": "Extend arm with thumb pointing up, use other hand to rotate forearm so palm faces down. Hold 30 seconds each arm.",
          "youtubeUrl": "https://www.youtube.com/watch?v=ZMjs-vJJ5c0"
        }
      ]
    },
    "supinator": {
      "id": "supinator",
      "name": "Supinator",
      "region": "Forearm",
      "keywords": [
        "supinator"
      ],
      "laymanDescription": "Deep outer forearm, rotates palm up",
      "causes": [
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (sports, work, exercise)",
          "condition": "Supinator Syndrome",
          "solution": "Rest from repetitive twisting motions, wrist and forearm stretches, ice if inflamed, ergonomic tool grips"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Forearm Rotation Pain",
          "solution": "Gentle forearm stretches, avoid excessive screwdriver-type motions, massage forearm, gradual strengthening"
        },
        {
          "causeId": "unknown",
          "causeLabel": "Don't know / Other",
          "condition": "Outer Forearm Discomfort",
          "solution": "Rest from aggravating activities, gentle stretches, if numbness present see a doctor to rule out nerve involvement"
        }
      ],
      "stretches": [
        {
          "name": "Forearm Roll with Ball",
          "description": "Place forearm on tennis ball. Roll from elbow to wrist applying gentle pressure. Spend 1-2 minutes per arm to release tension.",
          "youtubeUrl": "https://www.youtube.com/watch?v=3cW1YnzT0_g"
        },
        {
          "name": "Prayer Stretch",
          "description": "Press palms together in front of chest, fingers pointing up. Lower hands while keeping palms together until you feel a stretch. Hold 20-30 seconds.",
          "youtubeUrl": "https://youtu.be/XnJu70SLsJk?si=_08Z2wXiF0cf_Dm7&t=5"
        },
        {
          "name": "Pronation Stretch",
          "description": "Extend arm with palm up. Use other hand to gently turn palm down and away. Hold 20 seconds. Stretches supinator.",
          "youtubeUrl": "https://www.youtube.com/watch?v=VV7zsl6LafM"
        }
      ]
    },
    "pronator_teres": {
      "id": "pronator_teres",
      "name": "Pronator Teres",
      "region": "Forearm",
      "keywords": [
        "pronator teres",
        "deep head of pronator teres",
        "superficial head of pronator teres",
        "pronator quadratus"
      ],
      "laymanDescription": "Inner forearm, rotates palm down",
      "causes": [
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (sports, work, exercise)",
          "condition": "Pronator Teres Syndrome",
          "solution": "Rest from gripping and twisting activities, forearm stretches, ice inner elbow, consider ergonomic adjustments"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Inner Forearm Tightness",
          "solution": "Gentle wrist flexor stretches, massage inner forearm, avoid heavy gripping, gradual strengthening"
        },
        {
          "causeId": "unknown",
          "causeLabel": "Don't know / Other",
          "condition": "Inner Elbow/Forearm Pain",
          "solution": "Rest, gentle stretches, if tingling in fingers present see doctor to check for nerve compression"
        }
      ],
      "stretches": [
        {
          "name": "Inner Forearm Massage",
          "description": "Use thumb to massage along the inner forearm from elbow to wrist. Apply firm but comfortable pressure. 2 minutes per arm.",
          "youtubeUrl": "https://www.youtube.com/watch?v=1Ap0k3EvEWc"
        },
        {
          "name": "Supination Stretch",
          "description": "Extend arm with palm down. Use other hand to rotate palm up and slightly back. Hold 20 seconds. Stretches pronator.",
          "youtubeUrl": "https://youtu.be/ZxRp98_JpB8?si=stUEyRotQqj9e125&t=6"
        },
        {
          "name": "Wrist Flexor Stretch",
          "description": "Extend arm with palm up. Use other hand to gently pull fingers back toward body. Hold 20-30 seconds. Repeat 3 times.",
          "youtubeUrl": "https://youtu.be/i-JV2PsFzWA?si=qO7HomMJl1hrwL2h&t=5"
        }
      ]
    },
    "anconeus": {
      "id": "anconeus",
      "name": "Anconeus",
      "region": "Forearm",
      "keywords": [
        "anconeus"
      ],
      "laymanDescription": "Small muscle behind outer elbow",
      "causes": [
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (sports, work, exercise)",
          "condition": "Anconeus Overuse",
          "solution": "Rest from elbow extension activities, ice back of elbow, gentle stretches, strengthen triceps gradually"
        },
        {
          "causeId": "sudden",
          "causeLabel": "Sudden movement or injury",
          "condition": "Elbow Strain",
          "solution": "Rest, ice, avoid straightening elbow forcefully, gentle range of motion as pain allows"
        },
        {
          "causeId": "unknown",
          "causeLabel": "Don't know / Other",
          "condition": "Back of Elbow Discomfort",
          "solution": "Rest from push-up type movements, gentle elbow stretches, if locking or clicking present see a doctor"
        }
      ],
      "stretches": [
        {
          "name": "Behind Back Triceps Stretch",
          "description": "Reach one arm behind back from below, other from above, try to clasp fingers. Hold 20 seconds each side. Use towel if hands don't reach.",
          "youtubeUrl": "https://youtu.be/zzvDO56B0HE?si=3EH_FVdoSku3rNjH&t=3"
        },
        {
          "name": "Elbow Flexion Stretch",
          "description": "Extend arm straight, palm up. Use other hand to gently bend the elbow, bringing hand toward shoulder. Hold 20 seconds.",
          "youtubeUrl": "https://youtu.be/apgO7gC8BiQ?si=_p6pnR6VLcIugEum&t=4"
        },
        {
          "name": "Triceps Stretch",
          "description": "Raise one arm overhead, bend elbow so hand reaches toward opposite shoulder blade. Use other hand to gently push elbow back. Hold 20-30 seconds.",
          "youtubeUrl": "https://www.youtube.com/watch?v=Uvk1Y8O1_yM"
        }
      ]
    },
    "finger_extensors": {
      "id": "finger_extensors",
      "name": "Finger Extensors",
      "region": "Forearm",
      "keywords": [
        "extensor digitorum",
        "extensor indicis",
        "extensor digiti minimi"
      ],
      "laymanDescription": "Back of forearm, straightens fingers",
      "causes": [
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (sports, work, exercise)",
          "condition": "Finger Extensor Overuse",
          "solution": "Rest from typing and gripping, wrist extensor stretches, ice outer elbow, ergonomic keyboard and mouse"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Chronic Extensor Tightness",
          "solution": "Regular stretching routine, take breaks from computer work, massage forearm, consider wrist support"
        },
        {
          "causeId": "unknown",
          "causeLabel": "Don't know / Other",
          "condition": "Back of Forearm Pain",
          "solution": "Rest, gentle stretches, if persistent see a physiotherapist for tennis elbow assessment"
        }
      ],
      "stretches": [
        {
          "name": "Finger Extensor Stretch",
          "description": "Make a fist, then extend fingers wide. Repeat 10 times. Then use other hand to gently curl all fingers into palm. Hold 15 seconds.",
          "youtubeUrl": "https://youtu.be/y5x_berzthc?si=_0ZDdQhm3Zefo3Vg&t=7"
        },
        {
          "name": "Prayer Reverse Stretch",
          "description": "Press backs of hands together in front of chest, fingers pointing down. Raise elbows until you feel a stretch. Hold 20 seconds.",
          "youtubeUrl": "https://www.youtube.com/watch?v=-CaG5vGE2lA"
        },
        {
          "name": "Wrist Extensor Stretch",
          "description": "Extend arm with palm facing down. Use other hand to gently press knuckles down and toward you. Hold 20-30 seconds. Repeat 3 times.",
          "youtubeUrl": "https://www.youtube.com/watch?v=yj7QdBxvHzQ"
        }
      ]
    },
    "finger_flexors": {
      "id": "finger_flexors",
      "name": "Finger Flexors",
      "region": "Forearm",
      "keywords": [
        "flexor digitorum profundus",
        "flexor digitorum superficialis",
        "humero-ulnar head of flexor digitorum superficialis",
        "radial head of flexor digitorum superficialis"
      ],
      "laymanDescription": "Inner forearm to fingers, bends fingers",
      "causes": [
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (sports, work, exercise)",
          "condition": "Finger Flexor Overuse / Golfer's Elbow",
          "solution": "Rest from gripping activities, wrist flexor stretches, ice inner elbow, reduce typing and mouse use"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Chronic Flexor Tightness",
          "solution": "Regular stretching, massage inner forearm, ergonomic workstation, frequent breaks from gripping tasks"
        },
        {
          "causeId": "unknown",
          "causeLabel": "Don't know / Other",
          "condition": "Inner Forearm/Palm Pain",
          "solution": "Rest, gentle stretches, if numbness or tingling in fingers see doctor for carpal tunnel assessment"
        }
      ],
      "stretches": [
        {
          "name": "Finger Spread Stretch",
          "description": "Place palm flat on table, spread fingers wide. Gently press down to increase stretch. Hold 20 seconds.",
          "youtubeUrl": "https://www.youtube.com/watch?v=evtqyqTiMLE"
        },
        {
          "name": "Forearm Flexor Massage",
          "description": "Use thumb to massage from inner elbow down to wrist along the flexor muscles. Apply firm pressure for 2 minutes per arm.",
          "youtubeUrl": "https://youtu.be/WDBcsK_Y5LA?si=oZXhOIT-X_om60pQ&t=18"
        },
        {
          "name": "Wrist Flexor Stretch",
          "description": "Extend arm with palm up and fingers pointing down. Gently pull fingers back with other hand. Hold 20-30 seconds. Repeat 3 times.",
          "youtubeUrl": "https://youtu.be/i-JV2PsFzWA?si=qO7HomMJl1hrwL2h&t=5"
        }
      ]
    },
    "thumb_muscles_thenar": {
      "id": "thumb_muscles_thenar",
      "name": "Thumb Muscles (Thenar)",
      "region": "Wrist & Hand",
      "keywords": [
        "abductor pollicis brevis",
        "abductor pollicis longus",
        "opponens pollicis",
        "flexor pollicis brevis",
        "flexor pollicis longus",
        "deep head of flexor pollicis brevis",
        "superficial head of flexor pollicis brevis",
        "adductor pollicis",
        "oblique head of adductor pollicis",
        "transverse head of adductor pollicis",
        "extensor pollicis brevis",
        "extensor pollicis longus"
      ],
      "laymanDescription": "Fleshy pad at base of thumb",
      "causes": [
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (sports, work, exercise)",
          "condition": "Thenar Overuse / De Quervain's",
          "solution": "Rest from texting and gripping, thumb stretches, ice base of thumb, thumb splint if severe"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Chronic Thumb Pain",
          "solution": "Regular thumb stretches, massage thenar eminence, reduce phone use, avoid pinching motions"
        },
        {
          "causeId": "unknown",
          "causeLabel": "Don't know / Other",
          "condition": "Thumb Base Discomfort",
          "solution": "Rest, gentle stretches, if pain severe or catching present see doctor for evaluation"
        }
      ],
      "stretches": [
        {
          "name": "Thenar Massage",
          "description": "Use opposite thumb to massage the fleshy pad at the base of your thumb in circular motions. 1-2 minutes per hand.",
          "youtubeUrl": "https://youtu.be/PKvBrHlMEzA?si=xEtOJ9brDch3Z1PR&t=103"
        },
        {
          "name": "Thumb Circle Mobilization",
          "description": "Make slow, large circles with your thumb - 10 clockwise, 10 counterclockwise. Helps maintain mobility and reduce stiffness.",
          "youtubeUrl": "https://www.youtube.com/watch?v=NpOd_cZs-IY"
        },
        {
          "name": "Thumb Extension Stretch",
          "description": "Hold hand out flat. Use other hand to gently pull thumb away from palm and back. Hold 15-20 seconds. Repeat 3 times.",
          "youtubeUrl": "https://www.youtube.com/watch?v=rCtyXW-YdFI"
        }
      ]
    },
    "little_finger_muscles_hypothenar": {
      "id": "little_finger_muscles_hypothenar",
      "name": "Little Finger Muscles (Hypothenar)",
      "region": "Wrist & Hand",
      "keywords": [
        "abductor digiti minimi of hand",
        "flexor digiti minimi of hand",
        "opponens digiti minimi muscle of hand"
      ],
      "laymanDescription": "Fleshy pad on pinky side of palm",
      "causes": [
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (sports, work, exercise)",
          "condition": "Hypothenar Overuse",
          "solution": "Rest from gripping and twisting tools, hand stretches, massage pinky side of palm, ergonomic grip modifications"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Pinky Side Palm Pain",
          "solution": "Regular hand stretches, massage hypothenar area, reduce vibrating tool use, gentle strengthening"
        },
        {
          "causeId": "unknown",
          "causeLabel": "Don't know / Other",
          "condition": "Outer Palm Discomfort",
          "solution": "Rest, gentle stretches, if numbness in ring and pinky fingers see doctor for ulnar nerve check"
        }
      ],
      "stretches": [
        {
          "name": "Hypothenar Massage",
          "description": "Use opposite thumb to massage the muscle pad on the pinky side of your palm. Circular motions for 1-2 minutes.",
          "youtubeUrl": "https://youtu.be/fqDPhX8VqPc?si=aGy7cHERhnSDC5qV&t=14"
        },
        {
          "name": "Pinky Extension Stretch",
          "description": "Gently pull pinky finger back toward wrist using other hand. Hold 15 seconds. Repeat for ring finger also.",
          "youtubeUrl": "https://www.youtube.com/watch?v=htd6XmA_6VA"
        },
        {
          "name": "Wrist Ulnar Deviation Stretch",
          "description": "Hold arm out, palm down. Gently bend wrist so pinky side moves toward forearm. Hold 15-20 seconds.",
          "youtubeUrl": ""
        }
      ]
    },
    "hand_intrinsic_muscles": {
      "id": "hand_intrinsic_muscles",
      "name": "Hand Intrinsic Muscles",
      "region": "Wrist & Hand",
      "keywords": [
        "lumbrical muscles of hand",
        "dorsal interossei muscles of hand",
        "palmar interossei"
      ],
      "laymanDescription": "Small muscles between finger bones in palm",
      "causes": [
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (sports, work, exercise)",
          "condition": "Hand Intrinsic Muscle Fatigue",
          "solution": "Rest from fine motor tasks, hand stretches, massage palm and between fingers, take frequent breaks"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Chronic Hand Cramping",
          "solution": "Regular hand stretches, finger spreads, massage, stay hydrated, consider magnesium if cramping frequent"
        },
        {
          "causeId": "unknown",
          "causeLabel": "Don't know / Other",
          "condition": "Hand Muscle Discomfort",
          "solution": "Gentle stretches, massage, finger exercises, if stiffness or weakness persistent see a hand specialist"
        }
      ],
      "stretches": [
        {
          "name": "Finger Abduction Exercise",
          "description": "Place rubber band around all fingers. Spread fingers apart against resistance. Repeat 15 times. Strengthens intrinsics.",
          "youtubeUrl": "https://www.youtube.com/watch?v=mxG35cD-tuE"
        },
        {
          "name": "Finger Spread Stretch",
          "description": "Place palm flat on table. Spread fingers as wide as possible, hold 10 seconds, relax. Repeat 10 times.",
          "youtubeUrl": "https://www.youtube.com/watch?v=evtqyqTiMLE"
        },
        {
          "name": "Prayer Stretch",
          "description": "Press palms together in front of chest. Lower hands while keeping palms together until stretch felt. Hold 20-30 seconds.",
          "youtubeUrl": "https://youtu.be/XnJu70SLsJk?si=_08Z2wXiF0cf_Dm7&t=5"
        }
      ]
    },
    "pectoralis_major": {
      "id": "pectoralis_major",
      "name": "Pectoralis Major",
      "region": "Chest",
      "keywords": [
        "pectoralis major",
        "sternocostal head of pectoralis major",
        "clavicular head of pectoralis major",
        "abdominal part of pectoralis major"
      ],
      "laymanDescription": "Main chest muscle",
      "causes": [
        {
          "causeId": "sudden",
          "causeLabel": "Sudden movement or heavy lift",
          "condition": "Pec Strain / Partial Tear",
          "solution": "RICE protocol, avoid all pushing for 2-4 weeks, if bruising or significant weakness appears seek medical evaluation"
        },
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (bench press, push-ups)",
          "condition": "Pec Overuse / Tendinopathy",
          "solution": "Reduce pushing volume by 50%, doorway stretch daily, balance with back exercises, gradual return"
        },
        {
          "causeId": "posture",
          "causeLabel": "After prolonged rounded posture",
          "condition": "Postural Pec Tightness",
          "solution": "Doorway stretch 3x daily, strengthen mid-back muscles, posture correction, open chest throughout day"
        }
      ],
      "stretches": [
        {
          "name": "Doorway Pec Stretch",
          "description": "Stand in doorway, place forearms on frame at 90\u00b0, step one foot forward and lean through until you feel stretch across chest. Hold 30 seconds.",
          "youtubeUrl": "https://www.youtube.com/watch?v=B9uY01NoqBg"
        },
        {
          "name": "Floor Pec Stretch",
          "description": "Lie face down, extend right arm out to side at 90\u00b0, roll onto right side until you feel stretch in chest. Hold 30 seconds each side.",
          "youtubeUrl": "https://youtu.be/4ucqiO-YjvM?si=NARJHCqYm8Ly016y&t=24"
        }
      ]
    },
    "pectoralis_minor": {
      "id": "pectoralis_minor",
      "name": "Pectoralis Minor",
      "region": "Chest",
      "keywords": [
        "pectoralis minor"
      ],
      "laymanDescription": "Deep chest muscle under pec major",
      "causes": [
        {
          "causeId": "posture",
          "causeLabel": "After prolonged sitting or rounded shoulders",
          "condition": "Pec Minor Syndrome / Shoulder Impingement contribution",
          "solution": "Corner stretch with arms at 90\u00b0, strengthen lower trapezius, posture correction, avoid forward shoulder position"
        }
      ],
      "stretches": [
        {
          "name": "Corner Stretch",
          "description": "Stand in corner, place forearms on walls at shoulder height, lean into corner until stretch is felt under collarbone. Hold 30 seconds.",
          "youtubeUrl": "https://www.youtube.com/watch?v=1o7awuDGzag"
        }
      ]
    },
    "intercostals": {
      "id": "intercostals",
      "name": "Intercostals",
      "region": "Chest",
      "keywords": [
        "external intercostal",
        "internal intercostal",
        "innermost intercostal"
      ],
      "laymanDescription": "Muscles between the ribs",
      "causes": [
        {
          "causeId": "sudden",
          "causeLabel": "Sudden twist or forceful coughing",
          "condition": "Intercostal Strain",
          "solution": "Rest from twisting, hold pillow when coughing/sneezing, gentle breathing exercises, may take 2-6 weeks to heal"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, worse with deep breathing",
          "condition": "Chronic Intercostal Tightness",
          "solution": "Gentle side stretches, diaphragmatic breathing, thoracic rotation stretches"
        }
      ],
      "stretches": [
        {
          "name": "Side Stretch",
          "description": "Stand with feet hip-width, raise right arm overhead, lean to the left. Feel stretch along right side ribs. Hold 30 seconds each side.",
          "youtubeUrl": "https://www.youtube.com/watch?v=-KPXtlEYVPM"
        },
        {
          "name": "Thoracic Rotation",
          "description": "Sit tall, place hands behind head, rotate upper body to the right, return to center, then to the left. 10 slow reps each direction.",
          "youtubeUrl": "https://www.youtube.com/watch?v=QWwiOHexU8I"
        }
      ]
    },
    "subclavius": {
      "id": "subclavius",
      "name": "Subclavius",
      "region": "Chest",
      "keywords": [
        "subclavius"
      ],
      "laymanDescription": "Small muscle under collarbone",
      "causes": [
        {
          "causeId": "posture",
          "causeLabel": "After prolonged sitting or forward shoulder posture",
          "condition": "Subclavius Tightness",
          "solution": "Chest stretches, improve posture, shoulder rolls, avoid slouching, strengthen upper back"
        },
        {
          "causeId": "sudden",
          "causeLabel": "Sudden movement or injury",
          "condition": "Collarbone Area Strain",
          "solution": "Rest, ice, avoid overhead movements, gentle stretches once pain subsides"
        },
        {
          "causeId": "unknown",
          "causeLabel": "Don't know / Other",
          "condition": "Under Collarbone Discomfort",
          "solution": "Gentle chest stretches, posture correction, if arm numbness or tingling present see doctor"
        }
      ],
      "stretches": [
        {
          "name": "Corner Stretch",
          "description": "Face a corner, place forearms on each wall at shoulder height. Lean in toward corner. Hold 30 seconds. Great for pecs and subclavius.",
          "youtubeUrl": "https://www.youtube.com/watch?v=1o7awuDGzag"
        },
        {
          "name": "Doorway Chest Stretch",
          "description": "Stand in doorway with forearms on frame at 90 degrees. Step forward to stretch chest and front of shoulders. Hold 30 seconds.",
          "youtubeUrl": "https://www.youtube.com/watch?v=B9uY01NoqBg"
        },
        {
          "name": "Shoulder Roll and Shrug Release",
          "description": "Roll shoulders backward 10 times, then shrug shoulders up to ears, hold 5 seconds, release. Repeat 5 times.",
          "youtubeUrl": "https://youtu.be/ja_P3YhmAlE?si=SlRT5uWTiUATwdYQ&t=5"
        }
      ]
    },
    "serratus_anterior": {
      "id": "serratus_anterior",
      "name": "Serratus Anterior",
      "region": "Chest",
      "keywords": [
        "serratus anterior"
      ],
      "laymanDescription": "Side of ribcage, under armpit",
      "causes": [
        {
          "causeId": "sudden",
          "causeLabel": "Sudden movement or direct impact",
          "condition": "Serratus Anterior Strain",
          "solution": "Rest from pushing/reaching movements, ice initially, gentle wall push-ups when pain settles"
        },
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive pushing or punching",
          "condition": "Serratus Overuse",
          "solution": "Reduce pushing volume, foam rolling side ribs, strengthen with wall slides and push-up plus"
        }
      ],
      "stretches": [
        {
          "name": "Push-Up Plus",
          "description": "In push-up position, let chest sink slightly, then push up through shoulder blades to round upper back. 2 sets of 10.",
          "youtubeUrl": "https://www.youtube.com/watch?v=RFbjeyq_ZPc"
        },
        {
          "name": "Wall Slide",
          "description": "Stand with back against wall, arms at 90\u00b0. Slowly slide arms up the wall, keeping contact. Lower slowly. 2 sets of 10.",
          "youtubeUrl": "https://youtu.be/70UxCj6AoPo?si=y2C8Tj0I1FVoHwol&t=226"
        }
      ]
    },
    "diaphragm": {
      "id": "diaphragm",
      "name": "Diaphragm",
      "region": "Chest",
      "keywords": [
        "diaphragm"
      ],
      "laymanDescription": "Main breathing muscle below lungs",
      "causes": [
        {
          "causeId": "posture",
          "causeLabel": "Stress-related or shallow breathing pattern",
          "condition": "Breathing Pattern Disorder / Diaphragm Tension",
          "solution": "Diaphragmatic breathing 5 minutes 3x daily, stress management, avoid tight waistbands, box breathing technique"
        }
      ],
      "stretches": [
        {
          "name": "Box Breathing",
          "description": "Breathe in for 4 counts, hold for 4 counts, breathe out for 4 counts, hold for 4 counts. Repeat 4-6 cycles.",
          "youtubeUrl": "https://www.youtube.com/watch?v=tEmt1Znux58"
        },
        {
          "name": "Diaphragmatic Breathing",
          "description": "Lie on back with knees bent, place one hand on chest and one on belly. Breathe so only belly hand rises. 5 minutes, 3 times daily.",
          "youtubeUrl": "https://www.youtube.com/watch?v=g2wo2Impnfg"
        }
      ]
    },
    "rhomboids": {
      "id": "rhomboids",
      "name": "Rhomboids",
      "region": "Upper Back",
      "keywords": [
        "rhomboid major",
        "rhomboid minor"
      ],
      "laymanDescription": "Between shoulder blades and spine",
      "causes": [
        {
          "causeId": "posture",
          "causeLabel": "After prolonged computer work or rounded posture",
          "condition": "Postural Rhomboid Strain",
          "solution": "Shoulder blade squeezes every hour, doorway chest stretch, workstation ergonomics review, strengthen mid-back"
        },
        {
          "causeId": "sudden",
          "causeLabel": "Sudden movement or reaching",
          "condition": "Acute Rhomboid Strain",
          "solution": "Ice for first 48 hours, rest from reaching movements, gentle movement after initial rest, heat after 48 hours"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Chronic Rhomboid Trigger Points",
          "solution": "Tennis ball massage against wall, daily stretching, strengthen mid-back with rows, address forward head posture"
        }
      ],
      "stretches": [
        {
          "name": "Cross-Arm Stretch",
          "description": "Reach right arm across chest, use left hand to pull it closer until you feel stretch between shoulder blades. Hold 30 seconds each side.",
          "youtubeUrl": "https://www.youtube.com/watch?v=-1K0m5ywRcY"
        },
        {
          "name": "Tennis Ball Wall Massage",
          "description": "Place tennis ball between shoulder blade and wall, lean into ball and make small movements to massage. 1-2 minutes each side.",
          "youtubeUrl": "https://youtu.be/bFI6hGRa-hg?si=ydXIHDTDjAfm4dMp&t=6"
        },
        {
          "name": "Thread the Needle",
          "description": "On all fours, reach right arm under body to the left, let right shoulder drop toward floor. Feel stretch between shoulder blades. Hold 30 seconds.",
          "youtubeUrl": "https://www.youtube.com/watch?v=rlac1t_QQJM"
        }
      ]
    },
    "middle_trapezius": {
      "id": "middle_trapezius",
      "name": "Middle Trapezius",
      "region": "Upper Back",
      "keywords": [
        "transverse part of trapezius"
      ],
      "laymanDescription": "Middle back between shoulder blades",
      "causes": [
        {
          "causeId": "posture",
          "causeLabel": "After prolonged sitting, standing, or poor posture",
          "condition": "Middle Trap Weakness/Pain",
          "solution": "Posture exercises, rows and reverse flys to strengthen, stretch chest muscles, ergonomic workstation"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Chronic Upper Back Tightness",
          "solution": "Regular stretching and strengthening, heat therapy, massage between shoulder blades, posture correction"
        },
        {
          "causeId": "unknown",
          "causeLabel": "Don't know / Other",
          "condition": "Between Shoulder Blade Pain",
          "solution": "Gentle stretches, foam roller on upper back, if pain radiates to arm see doctor"
        }
      ],
      "stretches": [
        {
          "name": "Cat Stretch",
          "description": "On hands and knees, round your upper back toward ceiling, letting shoulder blades spread apart. Hold 20 seconds. Repeat 5 times.",
          "youtubeUrl": "https://youtu.be/Y-s5X4yKPCs?si=lNe2HGyvYnzp5m5r&t=4"
        },
        {
          "name": "Clasped Hands Forward Reach",
          "description": "Interlace fingers, push palms away from you while rounding upper back. Feel stretch between shoulder blades. Hold 20-30 seconds.",
          "youtubeUrl": "https://www.youtube.com/watch?v=BZT-GBZ--I0"
        },
        {
          "name": "Cross Arm Stretch",
          "description": "Bring one arm across chest. Use other arm to gently pull it closer. Hold 20-30 seconds each side. Stretches posterior shoulder and mid traps.",
          "youtubeUrl": "https://www.youtube.com/watch?v=-1K0m5ywRcY"
        }
      ]
    },
    "lower_trapezius": {
      "id": "lower_trapezius",
      "name": "Lower Trapezius",
      "region": "Upper Back",
      "keywords": [
        "ascending part of trapezius"
      ],
      "laymanDescription": "Lower mid back, below shoulder blades",
      "causes": [
        {
          "causeId": "posture",
          "causeLabel": "After prolonged sitting or slumped posture",
          "condition": "Lower Trap Weakness",
          "solution": "Strengthen with Y-raises and prone exercises, stretch chest muscles, improve posture, scapular setting exercises"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Mid Back Pain",
          "solution": "Lower trap strengthening exercises, posture correction, heat therapy, consider physiotherapy assessment"
        },
        {
          "causeId": "unknown",
          "causeLabel": "Don't know / Other",
          "condition": "Lower Shoulder Blade Pain",
          "solution": "Gentle stretches, strengthen lower traps, if pain persistent or radiating see a professional"
        }
      ],
      "stretches": [
        {
          "name": "Prone T-Raise",
          "description": "Lie face down, arms out to sides in T position. Lift arms while squeezing shoulder blades together. Hold 5 seconds. Repeat 10 times.",
          "youtubeUrl": "https://www.youtube.com/watch?v=3GJoiYUYwr0"
        },
        {
          "name": "Prone Y-Raise",
          "description": "Lie face down, arms in Y position above head. Lift arms slightly while squeezing shoulder blades. Hold 5 seconds. Repeat 10 times. Strengthens lower traps.",
          "youtubeUrl": "https://www.youtube.com/watch?v=w1AWGKubE5U"
        },
        {
          "name": "Thread the Needle",
          "description": "On hands and knees, reach one arm under your body, rotating torso. Let shoulder come to floor. Hold 20-30 seconds each side.",
          "youtubeUrl": "https://www.youtube.com/watch?v=rlac1t_QQJM"
        }
      ]
    },
    "latissimus_dorsi": {
      "id": "latissimus_dorsi",
      "name": "Latissimus Dorsi",
      "region": "Upper Back",
      "keywords": [
        "latissimus dorsi"
      ],
      "laymanDescription": "Large back muscle from armpit to lower back",
      "causes": [
        {
          "causeId": "sudden",
          "causeLabel": "Sudden movement or lifting",
          "condition": "Acute Lat Strain",
          "solution": "RICE protocol, avoid pulling movements, rest from swimming/climbing, gentle stretching after initial rest"
        },
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (swimming, climbing, pull-ups)",
          "condition": "Lat Overuse / Tendinopathy",
          "solution": "Reduce pulling volume by 50%, child's pose with side reach, foam rolling, gradual return to activity"
        }
      ],
      "stretches": [
        {
          "name": "Child's Pose with Side Reach",
          "description": "Kneel, sit back on heels, reach arms forward on floor, then walk hands to one side. Feel stretch along side of back. Hold 30 seconds each side.",
          "youtubeUrl": "https://www.youtube.com/watch?v=YTAwpiX2Dsg"
        },
        {
          "name": "Overhead Lat Stretch",
          "description": "Hold onto doorframe or pole at overhead height, step back and push hips back, letting chest drop between arms. Hold 30 seconds.",
          "youtubeUrl": "https://www.youtube.com/watch?v=OX5NZLkidtY"
        }
      ]
    },
    "thoracic_erector_spinae": {
      "id": "thoracic_erector_spinae",
      "name": "Thoracic Erector Spinae",
      "region": "Upper Back",
      "keywords": [
        "iliocostalis thoracis",
        "longissimus thoracis",
        "spinalis thoracis",
        "multifidus thoracis",
        "semispinalis thoracis"
      ],
      "laymanDescription": "Muscles along the mid-back spine",
      "causes": [
        {
          "causeId": "posture",
          "causeLabel": "After prolonged sitting, standing, or poor posture",
          "condition": "Thoracic Erector Strain",
          "solution": "Posture correction, thoracic mobility exercises, strengthen core, regular stretch breaks"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Chronic Mid-Back Stiffness",
          "solution": "Cat-cow stretches, foam rolling, heat therapy, strengthen back extensors, improve workstation ergonomics"
        },
        {
          "causeId": "sudden",
          "causeLabel": "Sudden movement or injury",
          "condition": "Acute Mid-Back Strain",
          "solution": "Rest initially, gentle movement as tolerated, ice then heat, avoid heavy lifting, gradual return to activity"
        }
      ],
      "stretches": [
        {
          "name": "Cat-Cow Stretch",
          "description": "On hands and knees, alternate between arching back (cow) and rounding back (cat). Move slowly, 10-15 repetitions. Mobilizes entire spine.",
          "youtubeUrl": "https://www.youtube.com/watch?v=LIVJZZyZ2qM"
        },
        {
          "name": "Foam Roller Thoracic Extension",
          "description": "Lie on foam roller positioned across mid-back. Support head, let back extend over roller. Move roller up and down spine. 2-3 minutes.",
          "youtubeUrl": "https://www.youtube.com/watch?v=81kPLsMt6wY"
        },
        {
          "name": "Seated Thoracic Rotation",
          "description": "Sit on chair, cross arms over chest. Rotate upper body to one side, hold 15 seconds. Repeat other side. Mobilizes thoracic spine.",
          "youtubeUrl": "https://www.youtube.com/watch?v=pLerj04KsHw"
        }
      ]
    },
    "serratus_posterior_superior": {
      "id": "serratus_posterior_superior",
      "name": "Serratus Posterior Superior",
      "region": "Upper Back",
      "keywords": [
        "serratus posterior superior"
      ],
      "laymanDescription": "Deep upper back near ribs",
      "causes": [
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Serratus Posterior Strain",
          "solution": "Gentle stretches, deep breathing exercises, posture correction, heat therapy"
        },
        {
          "causeId": "posture",
          "causeLabel": "After prolonged sitting or hunched posture",
          "condition": "Upper Back Breathing Pain",
          "solution": "Improve posture, stretch chest and front shoulders, diaphragmatic breathing exercises"
        },
        {
          "causeId": "unknown",
          "causeLabel": "Don't know / Other",
          "condition": "Deep Breath Back Pain",
          "solution": "Gentle stretches, if pain on breathing is severe or persistent see a doctor to rule out other causes"
        }
      ],
      "stretches": [
        {
          "name": "Child's Pose",
          "description": "Kneel and sit back on heels, reach arms forward on floor, let chest sink toward ground. Hold 30-60 seconds. Stretches upper back.",
          "youtubeUrl": "https://www.youtube.com/watch?v=_ZX_zTOBgp8"
        },
        {
          "name": "Deep Breathing with Arm Reach",
          "description": "Inhale deeply while reaching both arms overhead. Exhale slowly while lowering. Repeat 10 times. Helps mobilize rib muscles.",
          "youtubeUrl": "https://www.youtube.com/watch?v=wOBGNsTgklU"
        },
        {
          "name": "Doorway Lat Stretch",
          "description": "Hold doorframe overhead, step through and lean forward. Let arm stretch behind while torso moves forward. Hold 20-30 seconds each side.",
          "youtubeUrl": "https://youtu.be/SAZDip5crww?si=gaAZXg8v4FHBn44Z&t=14"
        }
      ]
    },
    "quadratus_lumborum_ql": {
      "id": "quadratus_lumborum_ql",
      "name": "Quadratus Lumborum (QL)",
      "region": "Lower Back",
      "keywords": [
        "quadratus lumborum"
      ],
      "laymanDescription": "Side of lower back between ribs and hip",
      "causes": [
        {
          "causeId": "sudden",
          "causeLabel": "Sudden movement or lifting injury",
          "condition": "Acute QL Strain",
          "solution": "Ice for first 48 hours, avoid bending and twisting, rest but don't stay in bed all day, gentle walking helps, may take 1-2 weeks to settle"
        },
        {
          "causeId": "posture",
          "causeLabel": "After prolonged sitting or standing",
          "condition": "Postural QL Strain",
          "solution": "Regular position changes every 30 minutes, don't cross legs when sitting, check for leg length difference, side stretches throughout day"
        },
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (bending, carrying)",
          "condition": "QL Overuse Syndrome",
          "solution": "Reduce one-sided carrying, strengthen core muscles, side-lying stretches, address any lifting technique issues"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Chronic QL Tightness / Trigger Points",
          "solution": "Daily QL stretches, core strengthening, regular movement, address asymmetries in activities, may benefit from professional massage"
        }
      ],
      "stretches": [
        {
          "name": "Child's Pose with Side Reach",
          "description": "Start in child's pose (kneeling, sitting on heels, arms extended), walk hands to the left, feel stretch on right side. Hold 30 seconds each side.",
          "youtubeUrl": "https://www.youtube.com/watch?v=YTAwpiX2Dsg"
        },
        {
          "name": "Side-Lying QL Stretch",
          "description": "Lie on pain-free side, top leg behind you off the bed, reach top arm overhead. Feel stretch in side of low back. Hold 30 seconds.",
          "youtubeUrl": "https://www.youtube.com/watch?v=g6OiLX8AEGs"
        },
        {
          "name": "Standing Side Bend",
          "description": "Stand with feet hip-width apart, reach right arm overhead and bend to the left. Keep hips still. Hold 30 seconds each side.",
          "youtubeUrl": "https://www.youtube.com/watch?v=wY9nQ-yfRwo"
        }
      ]
    },
    "lumbar_erector_spinae": {
      "id": "lumbar_erector_spinae",
      "name": "Lumbar Erector Spinae",
      "region": "Lower Back",
      "keywords": [
        "iliocostalis lumborum",
        "longissimus lumborum"
      ],
      "laymanDescription": "Muscles along lower spine",
      "causes": [],
      "stretches": [
        {
          "name": "Knee to Chest",
          "description": "Lie on back, pull right knee to chest with both hands, keep other leg flat or bent. Hold 30 seconds. Repeat left side, then both knees together.",
          "youtubeUrl": "https://www.youtube.com/watch?v=GR2k9Bt34MQ&t=60"
        },
        {
          "name": "Cat-Cow Stretch",
          "description": "On all fours, arch back up like a cat (tuck chin), then let belly drop and look up (cow). Move slowly between positions. 10-15 repetitions.",
          "youtubeUrl": "https://www.youtube.com/watch?v=GR2k9Bt34MQ&t=225"
        },
        {
          "name": "Child's Pose",
          "description": "Kneel on floor, sit back on heels, reach arms forward on floor, let forehead rest down. Breathe deeply and relax. Hold 1-2 minutes.",
          "youtubeUrl": "https://www.youtube.com/watch?v=GR2k9Bt34MQ&t=330"
        }
      ]
    },
    "multifidus_lumbar": {
      "id": "multifidus_lumbar",
      "name": "Multifidus (Lumbar)",
      "region": "Lower Back",
      "keywords": [
        "multifidus lumborum"
      ],
      "laymanDescription": "Deep spinal stabilizer muscles",
      "causes": [
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Multifidus Weakness/Low Back Instability",
          "solution": "Core stabilization exercises, bird-dog exercise, avoid prolonged sitting, strengthen deep core"
        },
        {
          "causeId": "posture",
          "causeLabel": "After prolonged sitting, standing, or poor posture",
          "condition": "Deep Low Back Pain",
          "solution": "Multifidus activation exercises, improve sitting posture, regular movement breaks, strengthen core"
        },
        {
          "causeId": "sudden",
          "causeLabel": "Sudden movement or injury",
          "condition": "Acute Low Back Strain",
          "solution": "Rest initially, gentle movement as tolerated, ice then heat, stabilization exercises once pain allows"
        }
      ],
      "stretches": [
        {
          "name": "Bird-Dog Exercise",
          "description": "On hands and knees, extend opposite arm and leg. Hold 5-10 seconds. Alternate sides. Repeat 10 each side. Activates multifidus.",
          "youtubeUrl": "https://www.youtube.com/watch?v=QABW99qPiNM"
        },
        {
          "name": "Dead Bug Exercise",
          "description": "Lie on back, arms pointing up, knees bent 90 degrees. Slowly lower opposite arm and leg. Keep low back pressed to floor. Strengthens deep core.",
          "youtubeUrl": "https://www.youtube.com/watch?v=o4GKiEoYClI"
        },
        {
          "name": "Quadruped Rock Back",
          "description": "On hands and knees, slowly rock hips back toward heels, then forward. Keep spine neutral. Repeat 15-20 times. Mobilizes lumbar spine.",
          "youtubeUrl": "https://www.youtube.com/watch?v=aKZGoeHtJ0o"
        }
      ]
    },
    "serratus_posterior_inferior": {
      "id": "serratus_posterior_inferior",
      "name": "Serratus Posterior Inferior",
      "region": "Lower Back",
      "keywords": [
        "serratus posterior inferior"
      ],
      "laymanDescription": "Deep lower back near ribs",
      "causes": [
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Lower Rib Back Pain",
          "solution": "Gentle stretches, deep breathing exercises, heat therapy, posture correction"
        },
        {
          "causeId": "posture",
          "causeLabel": "After prolonged sitting or twisted posture",
          "condition": "Serratus Posterior Strain",
          "solution": "Side stretches, rotation stretches, improve sitting posture, regular movement breaks"
        },
        {
          "causeId": "unknown",
          "causeLabel": "Don't know / Other",
          "condition": "Lower Back Rib Pain",
          "solution": "Gentle stretches, if pain on breathing or severe see doctor to rule out other causes"
        }
      ],
      "stretches": [
        {
          "name": "Prone Press Up",
          "description": "Lie face down, hands by shoulders. Press upper body up while keeping hips on floor. Hold 10 seconds. Repeat 10 times. Extends lower back.",
          "youtubeUrl": "https://youtu.be/UqSP7ZrHxRE?si=D4TYGGGXt8MZRpxB&t=5"
        },
        {
          "name": "Seated Side Bend",
          "description": "Sit tall, reach one arm overhead and lean to opposite side. Hold 20-30 seconds. Repeat other side. Stretches side of back and ribs.",
          "youtubeUrl": "https://www.youtube.com/watch?v=jKcHh78Y_JE"
        },
        {
          "name": "Thread the Needle",
          "description": "On hands and knees, reach one arm under body rotating torso. Let shoulder come toward floor. Hold 20-30 seconds each side.",
          "youtubeUrl": "https://www.youtube.com/watch?v=rlac1t_QQJM"
        }
      ]
    },
    "thoracolumbar_fascia": {
      "id": "thoracolumbar_fascia",
      "name": "Thoracolumbar Fascia",
      "region": "Lower Back",
      "keywords": [
        "thoracolumbar fascia"
      ],
      "laymanDescription": "Connective tissue across lower back",
      "causes": [
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Thoracolumbar Fascia Tightness",
          "solution": "Foam rolling, stretching surrounding muscles (lats, glutes), core strengthening, regular movement"
        },
        {
          "causeId": "posture",
          "causeLabel": "After prolonged sitting or poor lifting technique",
          "condition": "Low Back Fascial Strain",
          "solution": "Improve lifting mechanics, core strengthening, hip and lat stretches, regular movement breaks"
        },
        {
          "causeId": "unknown",
          "causeLabel": "Don't know / Other",
          "condition": "Deep Low Back Stiffness",
          "solution": "Foam rolling, hip and lat stretches, if persistent see physiotherapist for assessment"
        }
      ],
      "stretches": [
        {
          "name": "Child's Pose",
          "description": "Kneel and sit back on heels, reach arms forward, let chest sink to floor. Hold 30-60 seconds. Stretches entire back.",
          "youtubeUrl": "https://www.youtube.com/watch?v=_ZX_zTOBgp8"
        },
        {
          "name": "Figure 4 Hip Stretch",
          "description": "Lie on back, cross one ankle over opposite knee. Pull bottom thigh toward chest. Hold 30 seconds each side. Releases fascia through hips.",
          "youtubeUrl": "https://www.youtube.com/watch?v=Xb5gHdYtHnk"
        },
        {
          "name": "Foam Roller Low Back",
          "description": "Sit on foam roller, support yourself with hands. Roll from lower back to mid-back. Avoid rolling directly on spine. 2-3 minutes.",
          "youtubeUrl": "https://youtu.be/MnWWDAsEfXk?si=ob8a4aTQgtMBlKli&t=12"
        }
      ]
    },
    "rectus_abdominis": {
      "id": "rectus_abdominis",
      "name": "Rectus Abdominis",
      "region": "Abdomen",
      "keywords": [
        "rectus abdominis"
      ],
      "laymanDescription": "Six-pack muscles, front of abdomen",
      "causes": [
        {
          "causeId": "sudden",
          "causeLabel": "Sudden movement or heavy ab exercise",
          "condition": "Abdominal Muscle Strain",
          "solution": "Rest from ab exercises 1-2 weeks, brace when coughing, log roll to get out of bed, gentle stretching when pain-free"
        },
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (too many sit-ups/crunches)",
          "condition": "Rectus Abdominis Overuse",
          "solution": "Rest from direct ab work, focus on planks and anti-rotation exercises instead, gradual return"
        }
      ],
      "stretches": [
        {
          "name": "Cobra Stretch",
          "description": "Lie face down, place hands under shoulders, push upper body up while keeping hips on floor. Hold 30 seconds.",
          "youtubeUrl": "https://www.youtube.com/watch?v=Nd3j6Avtv6Q"
        },
        {
          "name": "Standing Back Extension",
          "description": "Stand with hands on lower back, gently lean back looking at ceiling. Hold 5 seconds, repeat 10 times.",
          "youtubeUrl": "https://www.youtube.com/watch?v=TpIL3IvBk8k"
        }
      ]
    },
    "external_oblique": {
      "id": "external_oblique",
      "name": "External Oblique",
      "region": "Abdomen",
      "keywords": [
        "external abdominal oblique"
      ],
      "laymanDescription": "Side of abdomen, outer layer",
      "causes": [
        {
          "causeId": "sudden",
          "causeLabel": "Sudden twist (golf, tennis, throwing)",
          "condition": "Oblique Strain / Side Strain",
          "solution": "Rest from rotation for 2-4 weeks, ice initially, hold side when coughing, very gradual return to sport"
        },
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive rotational sport",
          "condition": "Oblique Overuse",
          "solution": "Reduce rotational activity volume, gentle side stretches, strengthen with pallof press"
        }
      ],
      "stretches": [
        {
          "name": "Seated Twist",
          "description": "Sit tall with legs extended, bend right knee and cross over left leg. Twist torso to the right, using left elbow against right knee. Hold 30 seconds each side.",
          "youtubeUrl": "https://youtu.be/qEVNj4tcr0Y?si=NHfDv0qX462rfxvr&t=7"
        }
      ]
    },
    "internal_oblique": {
      "id": "internal_oblique",
      "name": "Internal Oblique",
      "region": "Abdomen",
      "keywords": [
        "internal abdominal oblique"
      ],
      "laymanDescription": "Side of abdomen, under external oblique",
      "causes": [
        {
          "causeId": "sudden",
          "causeLabel": "Sudden movement or injury",
          "condition": "Oblique Strain",
          "solution": "Rest, ice initially, avoid twisting movements, gentle stretches once pain subsides"
        },
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (sports, work, exercise)",
          "condition": "Oblique Overuse",
          "solution": "Rest from rotation activities, gentle side stretches, strengthen core gradually"
        },
        {
          "causeId": "unknown",
          "causeLabel": "Don't know / Other",
          "condition": "Side Abdominal Pain",
          "solution": "Rest, gentle stretches, if pain severe or persistent see doctor to rule out other causes"
        }
      ],
      "stretches": [
        {
          "name": "Lying Trunk Rotation",
          "description": "Lie on back, knees bent. Let knees fall to one side while keeping shoulders flat. Hold 20-30 seconds each side.",
          "youtubeUrl": "https://youtu.be/PX_tIQQIWu0?si=OzuPNMcJttKMAUm9&t=5"
        },
        {
          "name": "Seated Spinal Twist",
          "description": "Sit with legs extended. Bend one knee, cross foot over other leg. Rotate torso toward bent knee. Hold 20-30 seconds each side.",
          "youtubeUrl": "https://youtu.be/qEVNj4tcr0Y?si=NHfDv0qX462rfxvr&t=7"
        },
        {
          "name": "Standing Side Stretch",
          "description": "Stand tall, reach one arm overhead and lean to opposite side. Hold 20-30 seconds. Repeat other side. Stretches obliques.",
          "youtubeUrl": "https://www.youtube.com/watch?v=-KPXtlEYVPM"
        }
      ]
    },
    "transversus_abdominis": {
      "id": "transversus_abdominis",
      "name": "Transversus Abdominis",
      "region": "Abdomen",
      "keywords": [
        "transversus abdominis"
      ],
      "laymanDescription": "Deepest abdominal layer, corset muscle",
      "causes": [
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Core Weakness/Instability",
          "solution": "Core stabilization exercises, diaphragmatic breathing with core engagement, avoid excessive sit-ups"
        },
        {
          "causeId": "posture",
          "causeLabel": "After prolonged sitting or pregnancy",
          "condition": "Deep Core Weakness",
          "solution": "Transversus abdominis activation exercises, drawing-in maneuver, strengthen gradually"
        },
        {
          "causeId": "unknown",
          "causeLabel": "Don't know / Other",
          "condition": "Deep Abdominal Discomfort",
          "solution": "Core activation exercises, if bulging or hernia suspected see a doctor"
        }
      ],
      "stretches": [
        {
          "name": "Cobra Stretch",
          "description": "Lie face down, hands by shoulders. Press up while keeping hips on floor. Hold 20-30 seconds. Stretches front of abdomen.",
          "youtubeUrl": "https://www.youtube.com/watch?v=Nd3j6Avtv6Q"
        },
        {
          "name": "Dead Bug Core Activation",
          "description": "Lie on back, arms up, knees bent 90 degrees. Slowly lower opposite arm and leg while keeping low back flat. Activates deep core.",
          "youtubeUrl": "https://www.youtube.com/watch?v=o4GKiEoYClI"
        },
        {
          "name": "Diaphragmatic Breathing",
          "description": "Lie on back, knees bent. Place hand on belly. Breathe deeply so belly rises. Exhale slowly drawing belly button toward spine. Repeat 10 times.",
          "youtubeUrl": "https://www.youtube.com/watch?v=g2wo2Impnfg"
        }
      ]
    },
    "gluteus_maximus": {
      "id": "gluteus_maximus",
      "name": "Gluteus Maximus",
      "region": "Hip & Pelvis",
      "keywords": [
        "gluteus maximus"
      ],
      "laymanDescription": "Main buttock muscle",
      "causes": [
        {
          "causeId": "sudden",
          "causeLabel": "Sudden movement or fall",
          "condition": "Acute Gluteal Strain",
          "solution": "Ice for first 48 hours, rest from aggravating activities, avoid prolonged sitting on hard surfaces, gentle movement after initial rest"
        },
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (running, stairs, squats)",
          "condition": "Gluteal Overuse / Tendinopathy",
          "solution": "Reduce running/stairs by 50%, glute stretches, strengthen with lighter loads, check running technique"
        },
        {
          "causeId": "posture",
          "causeLabel": "After prolonged sitting",
          "condition": "Gluteal Amnesia / Dead Butt Syndrome",
          "solution": "Stand and walk every 30 minutes, glute activation exercises (bridges, squeezes), stretch hip flexors, strengthen glutes"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Chronic Gluteal Tightness / Weakness",
          "solution": "Daily glute stretches, glute bridges for strengthening, address prolonged sitting, may take weeks of consistent work"
        }
      ],
      "stretches": [
        {
          "name": "Figure-4 Stretch",
          "description": "Lie on back, cross right ankle over left knee, pull left thigh toward chest. Feel stretch in right buttock. Hold 30 seconds each side.",
          "youtubeUrl": "https://www.youtube.com/watch?v=Xb5gHdYtHnk"
        },
        {
          "name": "Glute Bridge",
          "description": "Lie on back with knees bent, feet flat. Squeeze glutes and lift hips toward ceiling. Hold 5 seconds at top, lower slowly. 15 reps.",
          "youtubeUrl": "https://www.youtube.com/watch?v=OUgsJ8-Vi0E"
        },
        {
          "name": "Pigeon Pose",
          "description": "From all fours, bring right knee forward behind right wrist, extend left leg back. Lower hips and hold stretch. 30 seconds each side.",
          "youtubeUrl": "https://www.youtube.com/watch?v=1o7awuDGzag"
        }
      ]
    },
    "gluteus_medius": {
      "id": "gluteus_medius",
      "name": "Gluteus Medius",
      "region": "Hip & Pelvis",
      "keywords": [
        "gluteus medius"
      ],
      "laymanDescription": "Side of hip and upper buttock",
      "causes": [
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Gluteus Medius Tendinopathy",
          "solution": "Side-lying clamshells 3x15 daily, avoid lying on affected side, hip abductor strengthening, may take 6-12 weeks to resolve"
        },
        {
          "causeId": "posture",
          "causeLabel": "After prolonged sitting or standing on one leg",
          "condition": "Gluteus Medius Weakness / Lateral Hip Pain",
          "solution": "Single-leg balance exercises, avoid standing with weight on one hip, strengthen with resistance band side-walks"
        },
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (running, hiking)",
          "condition": "Gluteus Medius Overuse / Runner's Hip",
          "solution": "Reduce running by 50%, hip strengthening exercises, IT band foam rolling, address running form"
        }
      ],
      "stretches": [
        {
          "name": "Resistance Band Side Walk",
          "description": "Place resistance band around ankles, bend knees slightly, take sideways steps keeping tension on band. 2 sets of 15 steps each direction.",
          "youtubeUrl": "https://www.youtube.com/watch?v=F4RomawdfJ8"
        },
        {
          "name": "Side-Lying Clamshell",
          "description": "Lie on side with knees bent 90\u00b0, keep feet together, lift top knee while keeping hips stacked. Hold 2 seconds, lower slowly. 3 sets of 15.",
          "youtubeUrl": "https://www.youtube.com/watch?v=DAAjOdwZdks"
        },
        {
          "name": "Standing Hip Abductor Stretch",
          "description": "Cross right leg behind left, lean hips to the right until you feel a stretch on the outside of right hip. Hold 30 seconds each side.",
          "youtubeUrl": "https://youtu.be/qBqKuEQl9sI?si=0i1o_ceEn8q33FTl&t=5"
        }
      ]
    },
    "gluteus_minimus": {
      "id": "gluteus_minimus",
      "name": "Gluteus Minimus",
      "region": "Hip & Pelvis",
      "keywords": [
        "gluteus minimus"
      ],
      "laymanDescription": "Deep under glute medius",
      "causes": [
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, may radiate down leg",
          "condition": "Gluteus Minimus Trigger Points (mimics sciatica)",
          "solution": "Tennis ball release against wall, figure-4 stretches, avoid prolonged sitting, distinguish from true sciatica with professional assessment if needed"
        },
        {
          "causeId": "posture",
          "causeLabel": "After prolonged sitting",
          "condition": "Gluteus Minimus Tightness",
          "solution": "Stand and walk every 30 minutes, piriformis and glute stretches, heat therapy may help"
        }
      ],
      "stretches": [
        {
          "name": "Figure-4 Stretch",
          "description": "Lie on back, cross right ankle over left knee, pull left thigh toward chest. Feel stretch deep in right buttock. Hold 30 seconds each side.",
          "youtubeUrl": "https://www.youtube.com/watch?v=Xb5gHdYtHnk"
        },
        {
          "name": "Pigeon Pose",
          "description": "From all fours, bring right knee forward behind right wrist, extend left leg back. Lower hips toward floor. Hold 30-60 seconds each side.",
          "youtubeUrl": "https://www.youtube.com/watch?v=1o7awuDGzag"
        }
      ]
    },
    "piriformis": {
      "id": "piriformis",
      "name": "Piriformis",
      "region": "Hip & Pelvis",
      "keywords": [
        "piriformis"
      ],
      "laymanDescription": "Deep in buttock, near sciatic nerve",
      "causes": [
        {
          "causeId": "posture",
          "causeLabel": "After prolonged sitting (especially on hard surfaces)",
          "condition": "Piriformis Syndrome",
          "solution": "Avoid sitting on hard surfaces, don't sit on wallet, stand every 30 minutes, piriformis stretches multiple times daily"
        },
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (running, cycling)",
          "condition": "Piriformis Overuse",
          "solution": "Reduce running/cycling by 50%, piriformis stretches before and after activity, strengthen glute medius, check bike fit if cycling"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, may have sciatica-like symptoms",
          "condition": "Chronic Piriformis Tightness",
          "solution": "Daily piriformis stretches (2-3 times per day), avoid prolonged sitting, glute strengthening, may take 4-6 weeks to fully resolve"
        }
      ],
      "stretches": [
        {
          "name": "Lying Figure-4 Against Wall",
          "description": "Lie near wall, place left foot on wall with knee bent, cross right ankle over left knee, scoot closer to wall to increase stretch. Hold 30 seconds.",
          "youtubeUrl": "https://www.youtube.com/watch?v=6KWuCivRhLc"
        },
        {
          "name": "Seated Piriformis Stretch",
          "description": "Sit tall in chair, cross right ankle over left knee, lean forward with straight back until you feel stretch in right buttock. Hold 30 seconds.",
          "youtubeUrl": "https://www.youtube.com/watch?v=JR1rtQ-PF38"
        },
        {
          "name": "Supine Piriformis Stretch",
          "description": "Lie on back, cross right ankle over left knee, pull left thigh toward opposite shoulder (not straight up). Hold 30 seconds each side.",
          "youtubeUrl": "https://www.youtube.com/watch?v=eKp2f5-jRbI"
        }
      ]
    },
    "hip_flexors_iliopsoas": {
      "id": "hip_flexors_iliopsoas",
      "name": "Hip Flexors (Iliopsoas)",
      "region": "Hip & Pelvis",
      "keywords": [
        "psoas major",
        "psoas minor",
        "iliacus"
      ],
      "laymanDescription": "Front of hip, connects spine to leg",
      "causes": [
        {
          "causeId": "sudden",
          "causeLabel": "Sudden movement (kicking, sprinting)",
          "condition": "Acute Hip Flexor Strain",
          "solution": "RICE protocol, avoid bringing knee to chest, gentle walking, avoid running/kicking for 2-3 weeks, progress gradually"
        },
        {
          "causeId": "posture",
          "causeLabel": "After prolonged sitting",
          "condition": "Tight Hip Flexors from Sitting",
          "solution": "Stand every 30 minutes, hip flexor stretches multiple times daily, strengthen glutes, consider standing desk"
        },
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (running, cycling, sit-ups)",
          "condition": "Hip Flexor Overuse / Tendinopathy",
          "solution": "Reduce aggravating activities by 50%, hip flexor stretches before and after, strengthen glutes and core, check cycling/running form"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, may cause low back pain",
          "condition": "Chronic Hip Flexor Tightness",
          "solution": "Daily hip flexor stretches (kneeling lunge), strengthen glutes, reduce sitting time, address posture, consistent effort over weeks"
        }
      ],
      "stretches": [
        {
          "name": "Kneeling Hip Flexor Stretch",
          "description": "Kneel on right knee (pad under knee), left foot in front. Tuck tailbone under, lean forward slightly. Feel stretch at front of right hip. Hold 30 seconds each side.",
          "youtubeUrl": "https://youtu.be/Q4Ko275cluo?si=i7IckHlzAxLXXI5r&t=16"
        },
        {
          "name": "Standing Hip Flexor Stretch",
          "description": "Step right foot far back in a lunge, tuck tailbone under, raise right arm and lean slightly left. Feel stretch at front of right hip. Hold 30 seconds.",
          "youtubeUrl": "https://youtu.be/07_GSDtqUuQ?si=rmB534tjbEsxoptN&t=4"
        },
        {
          "name": "Thomas Stretch",
          "description": "Lie on edge of bed, pull left knee to chest, let right leg hang off edge. Relax right leg completely. Hold 30 seconds each side.",
          "youtubeUrl": "https://youtu.be/Q0XiUq9TJ2w?si=K--tCcKToXUqOiEN&t=3"
        }
      ]
    },
    "tensor_fasciae_latae_tfl": {
      "id": "tensor_fasciae_latae_tfl",
      "name": "Tensor Fasciae Latae (TFL)",
      "region": "Hip & Pelvis",
      "keywords": [
        "tensor fasciae latae"
      ],
      "laymanDescription": "Front-side of hip, connects to IT band",
      "causes": [
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (running, cycling)",
          "condition": "TFL Strain / IT Band Syndrome",
          "solution": "Foam roll IT band and TFL, reduce running/cycling by 50%, hip flexor stretches, strengthen glutes to reduce TFL overload"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Chronic TFL Tightness",
          "solution": "Daily IT band stretches, foam rolling, standing hip flexor stretch, address prolonged sitting"
        }
      ],
      "stretches": [
        {
          "name": "IT Band Foam Roll",
          "description": "Lie on side with foam roller under outer thigh, roll slowly from hip to just above knee. Spend extra time on tender spots. 1-2 minutes each side.",
          "youtubeUrl": "https://www.youtube.com/watch?v=eI9qLfSlCuI"
        },
        {
          "name": "Standing TFL Stretch",
          "description": "Stand with right leg crossed behind left, shift hips to the right while reaching right arm overhead to the left. Hold 30 seconds each side.",
          "youtubeUrl": "https://www.youtube.com/watch?v=q9ZHa9Fgblw"
        }
      ]
    },
    "deep_hip_rotators": {
      "id": "deep_hip_rotators",
      "name": "Deep Hip Rotators",
      "region": "Hip & Pelvis",
      "keywords": [
        "obturator externus",
        "obturator internus",
        "superior gemellus",
        "inferior gemellus",
        "quadratus femoris"
      ],
      "laymanDescription": "Deep in buttock, rotate hip",
      "causes": [
        {
          "causeId": "posture",
          "causeLabel": "After prolonged sitting (especially cross-legged)",
          "condition": "Deep Gluteal Syndrome",
          "solution": "Avoid crossing legs, figure-4 stretch, pigeon pose, stand every 30 minutes"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, pain with hip rotation",
          "condition": "Hip Rotator Tightness",
          "solution": "Seated hip rotation stretches, figure-4 stretch both sides, gentle hip circles"
        }
      ],
      "stretches": [
        {
          "name": "Seated Hip Rotation",
          "description": "Sit tall in chair, cross right ankle over left knee, gently press down on right knee while keeping back straight. Hold 30 seconds each side.",
          "youtubeUrl": "https://youtu.be/D72qGBKl468?si=fiO6tji2dB4AEvMV&t=25"
        }
      ]
    },
    "quadriceps": {
      "id": "quadriceps",
      "name": "Quadriceps",
      "region": "Thigh",
      "keywords": [
        "rectus femoris",
        "vastus lateralis",
        "vastus medialis",
        "vastus intermedius"
      ],
      "laymanDescription": "Front of thigh, straightens knee",
      "causes": [
        {
          "causeId": "sudden",
          "causeLabel": "Sudden movement or strain (sprinting, kicking)",
          "condition": "Acute Quad Strain / Contusion",
          "solution": "RICE protocol, avoid stretching for first 48-72 hours, then gentle stretching, no running/jumping for 1-3 weeks depending on severity"
        },
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (running, cycling, squats)",
          "condition": "Quadriceps Overuse / Tendinopathy",
          "solution": "Reduce activity volume by 50%, quad stretches after activity, address bike fit if cycling, gradual return to full activity"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, may affect knee",
          "condition": "Chronic Quad Tightness",
          "solution": "Daily quad stretches, foam rolling, strengthen with controlled exercises, address any knee issues"
        }
      ],
      "stretches": [
        {
          "name": "Couch Stretch",
          "description": "Kneel with right knee near wall, foot up on wall, left foot forward in lunge. Keep core tight, lean back slightly. Intense stretch. Hold 30-60 seconds.",
          "youtubeUrl": "https://youtu.be/Fg-lwNBzVV8?si=3C56qn0r0iMsQp4_&t=11"
        },
        {
          "name": "Lying Quad Stretch",
          "description": "Lie face down, bend right knee, reach back to grab ankle, gently pull heel toward buttock. More intense than standing. Hold 30 seconds each.",
          "youtubeUrl": "https://youtu.be/SapC8SML6mc?si=pOFOWGXufwCaHw3e&t=4"
        },
        {
          "name": "Standing Quad Stretch",
          "description": "Stand on left leg (hold wall for balance), bend right knee and grab ankle, pull heel toward buttock. Keep knees together. Hold 30 seconds each leg.",
          "youtubeUrl": "https://www.youtube.com/watch?v=zi5__zBRzYc"
        }
      ]
    },
    "hamstrings": {
      "id": "hamstrings",
      "name": "Hamstrings",
      "region": "Thigh",
      "keywords": [
        "biceps femoris",
        "long head of biceps femoris",
        "short head of biceps femoris",
        "semitendinosus",
        "semimembranosus"
      ],
      "laymanDescription": "Back of thigh, bends knee",
      "causes": [
        {
          "causeId": "sudden",
          "causeLabel": "Sudden movement (sprinting, lunging)",
          "condition": "Acute Hamstring Strain / Pull",
          "solution": "RICE protocol, NO stretching for first 3-5 days, gentle walking, progress to light stretching, return to sport in 2-8 weeks depending on severity"
        },
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (running, sports)",
          "condition": "Hamstring Overuse / Tendinopathy",
          "solution": "Reduce running by 50%, address speed work, eccentric strengthening (Nordic curls), check running form"
        },
        {
          "causeId": "posture",
          "causeLabel": "After prolonged sitting",
          "condition": "Hamstring Tightness from Sitting",
          "solution": "Regular stretch breaks, hamstring stretches 2-3 times daily, strengthen hamstrings with bridges, stand and walk regularly"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, may affect low back",
          "condition": "Chronic Hamstring Tightness",
          "solution": "Daily stretching routine, nerve gliding exercises, strengthen hamstrings, address hip and low back mobility"
        }
      ],
      "stretches": [
        {
          "name": "Doorway Hamstring Stretch",
          "description": "Lie in doorway, raise one leg up to rest on door frame, other leg flat through doorway. Scoot closer for more stretch. Hold 30-60 seconds.",
          "youtubeUrl": "https://www.youtube.com/watch?v=VWk9QD10Xjg"
        },
        {
          "name": "Lying Hamstring Stretch with Strap",
          "description": "Lie on back, loop strap/towel around foot, straighten leg toward ceiling, gently pull leg toward you. Hold 30 seconds each.",
          "youtubeUrl": "https://youtu.be/Il1L75v6gq0?si=aq5AT0WBAyDRT6De&t=4"
        },
        {
          "name": "Standing Hamstring Stretch",
          "description": "Place heel on chair or step, keep back straight, hinge forward at hips until you feel stretch behind thigh. Don't round back. Hold 30 seconds each.",
          "youtubeUrl": "https://www.youtube.com/watch?v=LVY692zJK0A"
        }
      ]
    },
    "adductors_groin": {
      "id": "adductors_groin",
      "name": "Adductors (Groin)",
      "region": "Thigh",
      "keywords": [
        "adductor longus",
        "adductor brevis",
        "adductor magnus",
        "adductor minimus",
        "gracilis",
        "pectineus"
      ],
      "laymanDescription": "Inner thigh, groin muscles",
      "causes": [
        {
          "causeId": "sudden",
          "causeLabel": "Sudden movement (lunging, changing direction)",
          "condition": "Acute Groin Strain",
          "solution": "RICE protocol, avoid stretching for first 48-72 hours, avoid wide stances, crutches if severe, return to sport in 2-6 weeks"
        },
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (sports with kicking/skating)",
          "condition": "Groin Overuse / Adductor Tendinopathy",
          "solution": "Reduce activity by 50%, gentle adductor stretches, strengthen with isometrics first, then dynamic exercises"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Chronic Groin Tightness",
          "solution": "Daily adductor stretches, strengthen with Copenhagen planks (advanced), address hip mobility"
        }
      ],
      "stretches": [
        {
          "name": "Butterfly Stretch",
          "description": "Sit with soles of feet together, knees out to sides. Hold feet, sit tall, gently press knees toward floor with elbows. Hold 30 seconds.",
          "youtubeUrl": "https://www.youtube.com/watch?v=v4OLkxi5-Q0"
        },
        {
          "name": "Frog Stretch",
          "description": "On all fours, spread knees wide apart with feet turned out, slowly sink hips back and down. Use padding under knees. Hold 30-60 seconds.",
          "youtubeUrl": "https://www.youtube.com/watch?v=zXeCtwJoiGw"
        },
        {
          "name": "Standing Adductor Stretch",
          "description": "Take wide stance, shift weight to right, bend right knee while keeping left leg straight. Feel stretch on left inner thigh. Hold 30 seconds each.",
          "youtubeUrl": "https://www.youtube.com/watch?v=Q4QEtbRbPzU"
        }
      ]
    },
    "sartorius": {
      "id": "sartorius",
      "name": "Sartorius",
      "region": "Thigh",
      "keywords": [
        "sartorius"
      ],
      "laymanDescription": "Diagonal across front of thigh",
      "causes": [
        {
          "causeId": "sudden",
          "causeLabel": "Sudden movement (kicking, quick direction change)",
          "condition": "Sartorius Strain",
          "solution": "Rest from kicking/running, gentle hip flexor stretch with external rotation, gradual return to activity"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, pain at inner knee",
          "condition": "Pes Anserine Bursitis / Sartorius Tendinopathy",
          "solution": "Ice inner knee, avoid crossing legs, hamstring stretches, may benefit from physical therapy assessment"
        }
      ],
      "stretches": [
        {
          "name": "Modified Hip Flexor Stretch",
          "description": "Kneeling hip flexor stretch, but rotate back hip outward slightly. This targets the sartorius more specifically. Hold 30 seconds each side.",
          "youtubeUrl": "https://www.youtube.com/watch?v=DXuStgWuJV8"
        }
      ]
    },
    "it_band": {
      "id": "it_band",
      "name": "IT Band",
      "region": "Thigh",
      "keywords": [
        "iliotibial tract"
      ],
      "laymanDescription": "Band of tissue down outer thigh",
      "causes": [
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (sports, work, exercise)",
          "condition": "IT Band Syndrome",
          "solution": "Foam roll TFL and glutes (not IT band directly), strengthen hip abductors, reduce running volume temporarily"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Chronic IT Band Tightness",
          "solution": "Stretch TFL and hip flexors, strengthen glutes, foam roll surrounding muscles, improve running mechanics"
        },
        {
          "causeId": "unknown",
          "causeLabel": "Don't know / Other",
          "condition": "Outer Thigh/Knee Pain",
          "solution": "Foam roll TFL and quads, hip strengthening, if clicking or locking at knee see a doctor"
        }
      ],
      "stretches": [
        {
          "name": "Figure 4 Glute Stretch",
          "description": "Lie on back, cross one ankle over opposite knee. Pull bottom thigh toward chest. Hold 30 seconds each side. Releases tension that affects IT band.",
          "youtubeUrl": "https://www.youtube.com/watch?v=Xb5gHdYtHnk"
        },
        {
          "name": "Foam Roll TFL and Glutes",
          "description": "Position foam roller under outer hip. Roll from hip to mid-thigh, focusing on TFL muscle (front of hip). Avoid rolling directly on IT band. 2 minutes each side.",
          "youtubeUrl": "https://youtu.be/n5J14_gRbME?si=-ANea8vAria5XA-M&t=51"
        },
        {
          "name": "Standing IT Band Stretch",
          "description": "Cross one leg behind the other, lean away from back leg toward wall. Hold 30 seconds. Feel stretch on outer thigh of back leg.",
          "youtubeUrl": "https://www.youtube.com/watch?v=q9ZHa9Fgblw"
        }
      ]
    },
    "patellar_tendon_retinaculum": {
      "id": "patellar_tendon_retinaculum",
      "name": "Patellar Tendon / Retinaculum",
      "region": "Knee",
      "keywords": [
        "lateral patellar retinaculum",
        "medial patellar retinaculum"
      ],
      "laymanDescription": "Front of knee, below kneecap",
      "causes": [],
      "stretches": [
        {
          "name": "Quad Stretch for Knee",
          "description": "Stand, pull heel toward buttock, keep knees together, tuck pelvis slightly. Hold 30 seconds each leg. Reduces pull on patellar tendon.",
          "youtubeUrl": "https://www.youtube.com/watch?v=3PRP9stLoUk&t=40"
        },
        {
          "name": "Eccentric Decline Squat",
          "description": "Stand on slant board or wedge (25\u00b0), slowly lower into squat over 3 seconds, stand up normally. 3 sets of 15, twice daily.",
          "youtubeUrl": "https://www.youtube.com/watch?v=o89cKpsXzJk&t=150"
        },
        {
          "name": "Wall Sit",
          "description": "Back against wall, slide down until thighs parallel to floor, hold position. Start with 30 seconds, progress to 60-90 seconds.",
          "youtubeUrl": "https://www.youtube.com/watch?v=o89cKpsXzJk&t=300"
        }
      ]
    },
    "popliteus": {
      "id": "popliteus",
      "name": "Popliteus",
      "region": "Knee",
      "keywords": [
        "popliteus"
      ],
      "laymanDescription": "Behind knee joint",
      "causes": [
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (running, especially downhill)",
          "condition": "Popliteus Tendinopathy",
          "solution": "Avoid downhill running/stairs, ice after activity, hamstring and calf stretches, strengthen quads"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, pain at back of knee",
          "condition": "Popliteus Strain",
          "solution": "Avoid positions with knee fully straight, gentle knee bending exercises, may take 4-6 weeks to resolve"
        }
      ],
      "stretches": [
        {
          "name": "Bent Knee Calf Stretch",
          "description": "Wall calf stretch but with back knee bent - this targets popliteus. Keep heel down, bend knee, lean forward. Hold 30 seconds each leg.",
          "youtubeUrl": "https://www.youtube.com/watch?v=TCDlyg8psFE"
        },
        {
          "name": "Seated Hamstring with Rotation",
          "description": "Seated hamstring stretch, but rotate foot inward. This adds rotation that targets popliteus. Hold 30 seconds each leg.",
          "youtubeUrl": "https://youtu.be/1RpHJyzk2xI?si=t49I_UfT2yxAQhuZ&t=7"
        }
      ]
    },
    "gastrocnemius_calf": {
      "id": "gastrocnemius_calf",
      "name": "Gastrocnemius (Calf)",
      "region": "Lower Leg",
      "keywords": [
        "gastrocnemius",
        "lateral head of gastrocnemius",
        "medial head of gastrocnemius"
      ],
      "laymanDescription": "Upper calf muscle, the bulge",
      "causes": [],
      "stretches": [
        {
          "name": "Wall Calf Stretch (Straight Knee)",
          "description": "Face wall, place hands on wall, step right foot back, keep right knee straight, press right heel down. Hold 30 seconds each leg.",
          "youtubeUrl": "https://www.youtube.com/watch?v=KS6HJqkfUvI&t=50"
        },
        {
          "name": "Step Calf Stretch",
          "description": "Stand on step with heels hanging off, lower heels below step level, hold 30 seconds. Great for deep stretch.",
          "youtubeUrl": "https://www.youtube.com/watch?v=KS6HJqkfUvI&t=220"
        },
        {
          "name": "Standing Calf Raise",
          "description": "Stand on step, raise up on toes, slowly lower heels below step level (3 seconds down). 3 sets of 15 for strengthening.",
          "youtubeUrl": "https://www.youtube.com/watch?v=KS6HJqkfUvI&t=315"
        }
      ]
    },
    "soleus": {
      "id": "soleus",
      "name": "Soleus",
      "region": "Lower Leg",
      "keywords": [
        "soleus"
      ],
      "laymanDescription": "Deep calf under gastrocnemius",
      "causes": [],
      "stretches": [
        {
          "name": "Bent Knee Calf Stretch",
          "description": "Same as wall calf stretch but BEND the back knee while keeping heel down. Targets the deeper soleus. Hold 30 seconds each leg.",
          "youtubeUrl": "https://www.youtube.com/watch?v=KS6HJqkfUvI&t=130"
        },
        {
          "name": "Eccentric Heel Drop",
          "description": "Stand on step on balls of feet, rise up on both feet, then lower down slowly (3 seconds) on one foot. 3 sets of 15 each leg.",
          "youtubeUrl": "https://www.youtube.com/watch?v=Bqaf-IhJz6o&t=105"
        },
        {
          "name": "Seated Calf Stretch",
          "description": "Sit with leg extended, loop towel around ball of foot, gently pull toes toward you while keeping knee slightly bent. Hold 30 seconds.",
          "youtubeUrl": "https://www.youtube.com/watch?v=Bqaf-IhJz6o&t=240"
        }
      ]
    },
    "achilles_tendon": {
      "id": "achilles_tendon",
      "name": "Achilles Tendon",
      "region": "Lower Leg",
      "keywords": [
        "calcaneal tendon"
      ],
      "laymanDescription": "Back of ankle, connects calf to heel",
      "causes": [
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (sports, work, exercise)",
          "condition": "Achilles Tendinopathy",
          "solution": "Eccentric heel drops, reduce running/jumping volume, calf stretches, proper footwear"
        },
        {
          "causeId": "sudden",
          "causeLabel": "Sudden movement or injury",
          "condition": "Acute Achilles Strain",
          "solution": "Rest, ice, elevate, heel lifts in shoes, see doctor if unable to point toes"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Chronic Achilles Pain",
          "solution": "Eccentric strengthening program, calf stretches, gradual return to activity, consider orthotics"
        }
      ],
      "stretches": [
        {
          "name": "Eccentric Heel Drop",
          "description": "Stand on step with heels hanging off. Rise up on toes, then slowly lower heels below step level. Repeat 15 times. Key exercise for Achilles.",
          "youtubeUrl": "https://www.youtube.com/watch?v=3tc0lN_bW5o"
        },
        {
          "name": "Soleus Stretch",
          "description": "Same as wall stretch but with back knee slightly bent. This targets the soleus and lower Achilles. Hold 30 seconds each leg.",
          "youtubeUrl": "https://www.youtube.com/watch?v=Zmc36LtB7f8"
        },
        {
          "name": "Wall Calf Stretch",
          "description": "Face wall, one foot back with heel down. Lean forward keeping back knee straight. Hold 30 seconds each leg. Stretches gastrocnemius and Achilles.",
          "youtubeUrl": "https://www.youtube.com/watch?v=mafo7o7OnFo"
        }
      ]
    },
    "tibialis_anterior_shin": {
      "id": "tibialis_anterior_shin",
      "name": "Tibialis Anterior (Shin)",
      "region": "Lower Leg",
      "keywords": [
        "tibialis anterior"
      ],
      "laymanDescription": "Front of lower leg, shin muscle",
      "causes": [
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (running, especially new runners)",
          "condition": "Shin Splints (Medial Tibial Stress Syndrome)",
          "solution": "Reduce running by 50%, run on softer surfaces, check shoe support, ice after running, strengthen with toe raises"
        },
        {
          "causeId": "sudden",
          "causeLabel": "Sudden increase in running/walking",
          "condition": "Acute Shin Splints",
          "solution": "Reduce or stop running temporarily, ice shins after activity, calf and shin stretches, replace worn shoes, increase mileage gradually (10% rule)"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, worse during activity",
          "condition": "Chronic Shin Splints",
          "solution": "May need complete rest from running for 2-4 weeks, cross-train with swimming/cycling, address foot mechanics, gradual return"
        }
      ],
      "stretches": [
        {
          "name": "Kneeling Shin Stretch",
          "description": "Kneel on padded surface with tops of feet flat on floor, sit back on heels. Feel stretch in front of shins. Hold 30 seconds.",
          "youtubeUrl": "https://youtu.be/Ox8K3WU78xE?si=-0KeIYiqAPgXobTk&t=9"
        },
        {
          "name": "Seated Shin Stretch",
          "description": "Stand, place top of right foot on floor behind you, gently press down to feel stretch in shin. Hold 30 seconds each leg.",
          "youtubeUrl": "https://youtu.be/olpUrL-w2qg?si=sU6-TZ3L4OE0lhCi&t=224"
        },
        {
          "name": "Toe Raises",
          "description": "Stand with back against wall, lift toes off ground keeping heels down. Hold 5 seconds, repeat 15-20 times. Strengthens shin muscles.",
          "youtubeUrl": "https://youtu.be/gRHg6v6-szc?si=5m64W1OJloaTnLCL&t=4"
        }
      ]
    },
    "tibialis_posterior": {
      "id": "tibialis_posterior",
      "name": "Tibialis Posterior",
      "region": "Lower Leg",
      "keywords": [
        "tibialis posterior"
      ],
      "laymanDescription": "Deep calf, supports arch",
      "causes": [
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, arch pain or flat foot development",
          "condition": "Posterior Tibial Tendon Dysfunction",
          "solution": "Arch support insoles immediately, calf stretches, toe raises with foot turned in, avoid flat shoes, may need orthotics"
        },
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (running, prolonged standing)",
          "condition": "Tibialis Posterior Tendinopathy",
          "solution": "Reduce running volume, supportive footwear, calf strengthening, arch strengthening exercises"
        }
      ],
      "stretches": [
        {
          "name": "Calf Stretch with Arch Focus",
          "description": "Standard wall calf stretch, but focus on pressing inner arch toward floor. Hold 30 seconds each leg.",
          "youtubeUrl": "https://www.youtube.com/watch?v=0gdai2ji4P0"
        },
        {
          "name": "Toe Raises with Inversion",
          "description": "Stand on both feet, rise onto toes while turning feet slightly inward. Lower slowly. 3 sets of 15. Strengthens tibialis posterior.",
          "youtubeUrl": "https://youtu.be/DDf9FNsJ4zQ?si=8MWnoCfPvu5gPjBF&t=8"
        }
      ]
    },
    "fibularis_peroneal_muscles": {
      "id": "fibularis_peroneal_muscles",
      "name": "Fibularis (Peroneal) Muscles",
      "region": "Lower Leg",
      "keywords": [
        "fibularis longus",
        "fibularis brevis",
        "fibularis tertius"
      ],
      "laymanDescription": "Outer lower leg",
      "causes": [
        {
          "causeId": "sudden",
          "causeLabel": "Ankle roll or sprain",
          "condition": "Peroneal Strain (often with ankle sprain)",
          "solution": "RICE protocol, ankle support/brace, balance exercises once pain settles, may need 4-8 weeks to fully recover"
        },
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (running on uneven surfaces)",
          "condition": "Peroneal Tendinopathy",
          "solution": "Run on flat surfaces, ankle stability exercises, consider supportive footwear, lateral ankle strengthening"
        }
      ],
      "stretches": [
        {
          "name": "Ankle Inversion Stretch",
          "description": "Sit with ankle crossed over knee, gently turn sole of foot inward until stretch is felt on outer lower leg. Hold 30 seconds each side.",
          "youtubeUrl": "https://youtu.be/KQ19_8Y-Yj4?si=OyRHqEFo1ZM0na1B&t=6"
        },
        {
          "name": "Single Leg Balance",
          "description": "Stand on one foot for 30 seconds. Progress to eyes closed or on unstable surface. Strengthens peroneals for ankle stability.",
          "youtubeUrl": "https://youtu.be/7SF7AYh2_Yw?si=eJZrFrARuuE_GDNt&t=5"
        }
      ]
    },
    "plantaris": {
      "id": "plantaris",
      "name": "Plantaris",
      "region": "Lower Leg",
      "keywords": [
        "plantaris"
      ],
      "laymanDescription": "Small muscle in deep calf",
      "causes": [
        {
          "causeId": "sudden",
          "causeLabel": "Sudden movement or injury",
          "condition": "Plantaris Rupture/Strain",
          "solution": "Rest, ice, elevate, calf stretches as tolerated, usually heals on its own"
        },
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (sports, work, exercise)",
          "condition": "Deep Calf Pain",
          "solution": "Calf stretches, reduce running volume, foam roll calf muscles, proper warm-up"
        },
        {
          "causeId": "unknown",
          "causeLabel": "Don't know / Other",
          "condition": "Deep Calf Discomfort",
          "solution": "Calf stretches, compression socks if swelling, if severe pain or swelling see doctor to rule out blood clot"
        }
      ],
      "stretches": [
        {
          "name": "Downward Dog Stretch",
          "description": "From hands and feet, push hips up forming an inverted V. Press heels toward floor. Alternate bending knees to deepen calf stretch.",
          "youtubeUrl": ""
        },
        {
          "name": "Foam Roll Calf",
          "description": "Sit with calf on foam roller. Roll from ankle to knee. Cross other leg on top for more pressure. 2 minutes each leg.",
          "youtubeUrl": "https://www.youtube.com/watch?v=nZZe9ai7Vvw"
        },
        {
          "name": "Gastrocnemius Stretch",
          "description": "Face wall, step one foot back, keep heel down and knee straight. Lean in until stretch felt in calf. Hold 30 seconds each leg.",
          "youtubeUrl": "https://www.youtube.com/watch?v=y01ri_43G50"
        }
      ]
    },
    "toe_flexors_deep_posterior": {
      "id": "toe_flexors_deep_posterior",
      "name": "Toe Flexors (Deep Posterior)",
      "region": "Lower Leg",
      "keywords": [
        "flexor digitorum longus",
        "flexor hallucis longus"
      ],
      "laymanDescription": "Deep calf muscles to toes",
      "causes": [
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (sports, work, exercise)",
          "condition": "Toe Flexor Strain",
          "solution": "Calf and foot stretches, reduce running, toe mobility exercises, proper footwear"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Deep Posterior Calf Pain",
          "solution": "Stretch calf and foot muscles, massage deep calf, toe stretches, check footwear fit"
        },
        {
          "causeId": "unknown",
          "causeLabel": "Don't know / Other",
          "condition": "Deep Calf/Ankle Pain",
          "solution": "Stretches, if pain behind inner ankle see doctor for possible Posterior Tibial Tendinopathy"
        }
      ],
      "stretches": [
        {
          "name": "Soleus Stretch",
          "description": "Wall stretch with back knee slightly bent. Lean forward until stretch felt in lower calf. Hold 30 seconds each leg.",
          "youtubeUrl": "https://www.youtube.com/watch?v=Zmc36LtB7f8"
        },
        {
          "name": "Tennis Ball Arch Roll",
          "description": "Stand and roll tennis ball under arch of foot with moderate pressure. 2 minutes each foot. Releases toe flexor tightness.",
          "youtubeUrl": "https://www.youtube.com/watch?v=J1mgaWZ8tWY"
        },
        {
          "name": "Toe Flexor Stretch",
          "description": "Sit with legs extended. Use hand to pull toes back toward you. Hold 20 seconds. Stretches sole of foot and toe flexors.",
          "youtubeUrl": "https://youtu.be/26g2nrnZ53Y?si=zh4dgkPy6GoQDmrs&t=13"
        }
      ]
    },
    "toe_extensors_anterior": {
      "id": "toe_extensors_anterior",
      "name": "Toe Extensors (Anterior)",
      "region": "Lower Leg",
      "keywords": [
        "extensor digitorum longus",
        "extensor hallucis longus",
        "extensor hallucis brevis"
      ],
      "laymanDescription": "Front of lower leg to toes",
      "causes": [
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (sports, work, exercise)",
          "condition": "Anterior Compartment Strain",
          "solution": "Rest, ice, reduce running, ankle stretches, strengthen with toe raises"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Shin/Top of Foot Pain",
          "solution": "Ankle dorsiflexion stretches, foam roll shins, proper footwear, gradual training progression"
        },
        {
          "causeId": "unknown",
          "causeLabel": "Don't know / Other",
          "condition": "Front Lower Leg Pain",
          "solution": "Rest, ice, stretches, if numbness or weakness present see doctor for compartment syndrome check"
        }
      ],
      "stretches": [
        {
          "name": "Foam Roll Tibialis Anterior",
          "description": "Sit with shin on foam roller. Roll from below knee to above ankle. Turn leg to reach all of front shin. 2 minutes each leg.",
          "youtubeUrl": "https://www.youtube.com/watch?v=C5TCKZ7k_cg"
        },
        {
          "name": "Kneeling Ankle Stretch",
          "description": "Kneel with tops of feet flat on floor. Gently sit back on heels. Hold 20-30 seconds. Stretches front of ankle and toe extensors.",
          "youtubeUrl": "https://youtu.be/2cuYI6s3Qlo?si=pxUJhOq6Rcca11_B&t=6"
        },
        {
          "name": "Standing Toe Point Stretch",
          "description": "Stand and place top of one foot on floor behind you, toes pointed back. Gently press down. Hold 20 seconds each foot.",
          "youtubeUrl": "https://www.youtube.com/watch?v=I4de5H6zHvQ"
        }
      ]
    },
    "plantar_fascia": {
      "id": "plantar_fascia",
      "name": "Plantar Fascia",
      "region": "Ankle & Foot",
      "keywords": [
        "plantar fascia",
        "plantar aponeurosis"
      ],
      "laymanDescription": "Connective tissue under foot arch",
      "causes": [],
      "stretches": [
        {
          "name": "Plantar Fascia Stretch",
          "description": "Sit, cross affected foot over opposite knee, pull toes back toward shin until you feel stretch in arch. Hold 30 seconds. Do before standing in morning.",
          "youtubeUrl": "https://www.youtube.com/watch?v=qYLjjrPR0sM&t=90"
        },
        {
          "name": "Frozen Bottle Roll",
          "description": "Freeze water bottle, sit and roll foot over it for 5-10 minutes. Provides massage and ice at the same time.",
          "youtubeUrl": "https://www.youtube.com/watch?v=qYLjjrPR0sM&t=255"
        },
        {
          "name": "Calf Stretch for Plantar Fasciitis",
          "description": "Wall calf stretch with straight knee (as above) - tight calves pull on plantar fascia. Hold 30 seconds, 3 times each leg.",
          "youtubeUrl": "https://www.youtube.com/watch?v=qYLjjrPR0sM&t=165"
        }
      ]
    },
    "foot_intrinsic_muscles": {
      "id": "foot_intrinsic_muscles",
      "name": "Foot Intrinsic Muscles",
      "region": "Ankle & Foot",
      "keywords": [
        "flexor digitorum brevis",
        "quadratus plantae",
        "lumbrical muscles of foot",
        "dorsal interossei muscles of foot",
        "plantar interossei"
      ],
      "laymanDescription": "Small muscles within the foot",
      "causes": [
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (sports, work, exercise)",
          "condition": "Foot Muscle Fatigue",
          "solution": "Foot strengthening exercises, toe spreads, marble pickups, proper arch support"
        },
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Chronic Foot Pain",
          "solution": "Strengthen foot intrinsics, stretch calf muscles, proper footwear, consider orthotics"
        },
        {
          "causeId": "unknown",
          "causeLabel": "Don't know / Other",
          "condition": "Sole of Foot Pain",
          "solution": "Foot stretches and strengthening, if heel pain on first steps see doctor for plantar fasciitis"
        }
      ],
      "stretches": [
        {
          "name": "Arch Massage with Ball",
          "description": "Roll golf or tennis ball under arch of foot. Apply moderate pressure. 2-3 minutes each foot. Releases tension in foot muscles.",
          "youtubeUrl": "https://www.youtube.com/watch?v=J1mgaWZ8tWY"
        },
        {
          "name": "Toe Spread and Squeeze",
          "description": "Spread toes as wide as possible, hold 5 seconds. Then squeeze toes together. Repeat 15 times. Strengthens foot intrinsics.",
          "youtubeUrl": "https://www.youtube.com/watch?v=TniXJGIuZiE"
        },
        {
          "name": "Towel Scrunches",
          "description": "Place towel flat on floor. Use toes to scrunch towel toward you. Repeat until towel is fully scrunched. Strengthens arch muscles.",
          "youtubeUrl": "https://www.youtube.com/watch?v=1ogSryKJXB4"
        }
      ]
    },
    "big_toe_muscles": {
      "id": "big_toe_muscles",
      "name": "Big Toe Muscles",
      "region": "Ankle & Foot",
      "keywords": [
        "abductor hallucis",
        "flexor hallucis brevis",
        "extensor hallucis brevis",
        "adductor hallucis",
        "oblique head of adductor hallucis",
        "transverse head of adductor hallucis",
        "medial head of flexor hallucis brevis",
        "lateral head of flexor hallucis brevis"
      ],
      "laymanDescription": "Muscles that move the big toe",
      "causes": [
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Big Toe Pain/Bunion",
          "solution": "Toe stretches, toe spacers, proper wide toe box shoes, strengthen big toe"
        },
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (sports, work, exercise)",
          "condition": "Hallux Rigidus/Turf Toe",
          "solution": "Rest from pushing off activities, toe stretches, ice if inflamed, stiff soled shoe for support"
        },
        {
          "causeId": "unknown",
          "causeLabel": "Don't know / Other",
          "condition": "Big Toe Discomfort",
          "solution": "Gentle stretches, check shoe fit, if joint is red, hot, or swollen see doctor"
        }
      ],
      "stretches": [
        {
          "name": "Big Toe Circles",
          "description": "Hold big toe and make slow circles - 10 clockwise, 10 counterclockwise. Helps maintain mobility in big toe joint.",
          "youtubeUrl": "https://www.youtube.com/watch?v=azdPlkX8_1Q"
        },
        {
          "name": "Big Toe Stretch",
          "description": "Sit and cross ankle over opposite knee. Use hand to gently pull big toe up and back. Hold 20 seconds. Repeat 3 times each foot.",
          "youtubeUrl": "https://www.youtube.com/watch?v=SbQ2RYxbppE&t=9s"
        },
        {
          "name": "Toe Spread with Spacers",
          "description": "Place toe spacers between all toes. Keep on for 10-15 minutes while relaxing. Helps restore natural toe position.",
          "youtubeUrl": "https://youtu.be/VWMjU9eeHnI?si=i-hfDTS55lVOUSQH&t=22"
        }
      ]
    },
    "small_toe_muscles": {
      "id": "small_toe_muscles",
      "name": "Small Toe Muscles",
      "region": "Ankle & Foot",
      "keywords": [
        "abductor digiti minimi of foot",
        "flexor digiti minimi of foot",
        "opponens digiti minimi muscle of foot"
      ],
      "laymanDescription": "Muscles on pinky side of foot",
      "causes": [
        {
          "causeId": "gradual",
          "causeLabel": "Started gradually, no specific event",
          "condition": "Outer Foot Pain",
          "solution": "Toe stretches, proper footwear with adequate width, foot strengthening exercises"
        },
        {
          "causeId": "repetitive",
          "causeLabel": "Repetitive activity (sports, work, exercise)",
          "condition": "Small Toe Muscle Strain",
          "solution": "Rest, ice if inflamed, toe exercises, check for shoe fit issues"
        },
        {
          "causeId": "unknown",
          "causeLabel": "Don't know / Other",
          "condition": "Pinky Toe/Outer Foot Pain",
          "solution": "Gentle stretches, proper shoes, if persistent or tailor's bunion present see a podiatrist"
        }
      ],
      "stretches": [
        {
          "name": "Outer Foot Roll",
          "description": "Roll outer edge of foot on tennis ball. From heel to base of small toe. Moderate pressure. 2 minutes each foot.",
          "youtubeUrl": "https://youtu.be/xTUmZcxf_tI?si=B3dnRyJ7qBgHQRpP&t=122"
        },
        {
          "name": "Small Toe Stretch",
          "description": "Gently pull small toes up and back using your hand. Hold 15-20 seconds. Repeat 3 times each foot.",
          "youtubeUrl": "https://www.youtube.com/watch?v=ewskRZTJDo4"
        },
        {
          "name": "Toe Splay Exercise",
          "description": "Spread all toes as wide as possible, focusing on separating small toes. Hold 10 seconds. Repeat 10 times.",
          "youtubeUrl": "https://youtu.be/VtkE0xDMhXc?si=2lfNtkuKdAkZtSDx&t=44"
        }
      ]
    }
  },
  "causeOptions": [
    {
      "id": "sudden",
      "label": "Sudden movement or injury"
    },
    {
      "id": "repetitive",
      "label": "Repetitive activity (sports, work, etc.)"
    },
    {
      "id": "posture",
      "label": "Poor posture or prolonged position"
    },
    {
      "id": "sleep",
      "label": "After sleeping"
    },
    {
      "id": "gradual",
      "label": "Started gradually, no specific event"
    },
    {
      "id": "unknown",
      "label": "Don't know / Other"
    }
  ],
  "painLevels": [
    {
      "level": 1,
      "label": "Minimal"
    },
    {
      "level": 2,
      "label": "Mild"
    },
    {
      "level": 3,
      "label": "Uncomfortable"
    },
    {
      "level": 4,
      "label": "Moderate"
    },
    {
      "level": 5,
      "label": "Distracting"
    },
    {
      "level": 6,
      "label": "Distressing"
    },
    {
      "level": 7,
      "label": "Unmanageable"
    },
    {
      "level": 8,
      "label": "Intense"
    },
    {
      "level": 9,
      "label": "Severe"
    },
    {
      "level": 10,
      "label": "Unbearable"
    }
  ]
};


    // ============================================
    // STATE MANAGEMENT
    // ============================================
    const state = {
      currentScreen: 'screen-region',
      selectedRegion: null,
      selectedMuscle: null,
      selectedMuscleId: null,
      painLevel: 5,
      selectedCause: null,
      customCauseText: '',
      hoveredMesh: null
    };

    // ============================================
    // MESH NAME NORMALIZATION UTILITY
    // Three.js transforms mesh names when loading GLB files:
    // - Spaces become underscores
    // - Dots may be removed or altered
    // This function normalizes mesh names so patterns can match reliably
    // ============================================
    function normalizeMeshName(meshName) {
      return meshName
        .toLowerCase()
        .replace(/_/g, ' ')      // Underscores ‚Üí spaces (Three.js transforms spaces to underscores)
        .replace(/\./g, ' ')     // Dots ‚Üí spaces (handle .l .r suffixes)
        .replace(/\s+/g, ' ')    // Multiple spaces ‚Üí single space
        .trim();
    }

    // ============================================
    // BODY PART MAPPING FOR SCREEN 1
    // Maps ANY clicked mesh to a body region based on anatomical name patterns
    // This is simpler and more reliable than keyword matching
    // ORDER MATTERS: More specific patterns (like "biceps femoris") must come before 
    // generic patterns (like "oris") to avoid false matches
    // ============================================
    const BODY_PART_RULES = [
      // THIGH must come early to catch "biceps femoris" before "oris" matches it
      ["Thigh", ["rectus femoris", "vastus", "biceps femoris", "semitendinosus", "semimembranosus", "adductor", "gracilis", "sartorius", "pectineus", "iliotibial"]],
      // HEAD & FACE - use more specific patterns to avoid false matches
      ["Head & Face", ["frontalis", "temporalis", "masseter", "orbicularis", "zygomaticus", "oculi", "orbicularis oris", "nasalis", "mentalis", "bucinator", "pterygoid", "auricular", "corrugator", "procerus", "depressor anguli", "depressor labii", "depressor septi", "levator labii", "levator anguli", "risorius", "occipitalis", "galea", "epicranial", "temporoparietalis", "nasolabialis", "rectus muscle", "obliquus muscle", "superior rectus", "inferior rectus", "lateral rectus", "medial rectus", "superior oblique", "inferior oblique", "levator palpebrae", "tarsus", "tarsal", "tendinous ring", "genioglossus", "hyoglossus", "styloglossus", "palatoglossus", "intrinsic tongue", "lingual", "palatine", "uvula", "tensor veli", "levator veli", "stapedius", "tensor tympani"]],
      ["Neck", ["sternocleidomastoid", "scalene", "scalenus", "platysma", "hyoid", "omohyoid", "sternohyoid", "thyrohyoid", "mylohyoid", "geniohyoid", "digastric", "stylohyoid", "longus colli", "longus capitis", "splenius", "semispinalis capitis", "semispinalis cervicis", "semispinalis colli", "rectus anterior capitis", "rectus lateralis capitis", "rectus posterior major capitis", "rectus posterior minor capitis", "obliquus inferior capitis", "obliquus superior capitis", "capitis muscle", "levator scapulae", "pharyngeal", "pharynx", "constrictor", "stylopharyngeus", "palatopharyngeus", "arytenoid", "cricothyroid", "thyro", "crico", "larynx", "laryngeal", "sternothyroid", "vocal", "colli muscle", "colli muscles", "iliocostalis colli", "longissimus colli", "spinalis colli", "interspinales colli", "multifidus colli"]],
      ["Shoulder", ["deltoid", "supraspinatus", "infraspinatus", "subscapularis", "teres major", "teres minor", "subacromial", "acromial bursa", "coracobrachial bursa"]],
      ["Upper Arm", ["biceps brachii", "triceps brachii", "brachialis muscle", "coracobrachialis muscle", "anconeus", "bicipitoradial bursa", "intertubercular"]],
      ["Forearm", ["brachioradialis", "pronator", "supinator", "flexor carpi", "extensor carpi", "palmaris longus", "flexor digitorum superficialis", "flexor digitorum profundus", "extensor digitorum", "extensor indicis", "extensor digiti minimi", "flexor pollicis longus", "extensor pollicis", "abductor pollicis longus", "tendon sheath"]],
      ["Wrist & Hand", ["thenar", "hypothenar", "abductor pollicis brevis", "opponens pollicis", "flexor pollicis brevis", "adductor pollicis", "palmar inteross", "dorsal inteross", "retinaculum of wrist", "flexor retinaculum", "of hand"]],
      ["Chest", ["pectoralis", "intercostal", "diaphragm", "subclavius", "serratus anterior", "transversus thoracis"]],
      ["Upper Back", ["latissimus", "rhomboid", "trapezius", "serratus posterior superior", "spinalis thoracis", "longissimus thoracis", "iliocostalis thoracis", "semispinalis thoracis", "multifidus thoracis", "rotatores thoracis", "interspinales thoracis", "levatores costarum", "rotatores", "levatores breves", "levatores longi"]],
      ["Lower Back", ["quadratus lumborum", "spinalis lumborum", "longissimus lumborum", "iliocostalis lumborum", "multifidus lumborum", "rotatores lumborum", "serratus posterior inferior", "thoracolumbar", "erector spinae", "interspinales lumborum", "intertransversarii lumborum"]],
      ["Abdomen", ["rectus abdominis", "oblique", "transversus abdominis", "pyramidalis", "linea alba", "inguinal", "cremaster"]],
      ["Hip & Pelvis", ["gluteus", "piriformis", "obturator", "gemellus", "quadratus femoris", "iliopsoas", "psoas", "iliacus", "tensor fasciae", "tensor fascia", "coccygeus", "levator ani", "sphincter", "perineal", "ischiocavernosus", "bulbospongiosus", "iliopectineal", "gluteal burs", "trochanteric bursa", "pubo-analis"]],
      ["Knee", ["patellar", "patella", "popliteus", "anserine bursa", "tuberosity of tibia"]],
      ["Lower Leg", ["gastrocnemius", "soleus", "tibialis", "fibularis", "peroneus", "peroneal", "plantaris", "flexor digitorum longus", "flexor hallucis longus", "extensor digitorum longus", "extensor hallucis longus"]],
      ["Ankle & Foot", ["plantar fascia", "plantar aponeurosis", "plantar inteross", "abductor hallucis", "flexor hallucis brevis", "adductor hallucis", "flexor digitorum brevis", "extensor digitorum brevis", "extensor hallucis brevis", "quadratus plantae", "calcaneal", "achilles", "malleolus", "of foot"]]
    ];
    
    // Given a mesh name, return the body region it belongs to
    function getMeshBodyPart(meshName) {
      const meshNormalized = normalizeMeshName(meshName);
      for (const [region, patterns] of BODY_PART_RULES) {
        for (const pattern of patterns) {
          if (meshNormalized.includes(pattern.toLowerCase())) {
            return region;
          }
        }
      }
      return null; // Unmapped mesh - won't trigger region selection
    }

    // ============================================
    // THREE.JS SETUP - SCREEN 1 (Full Body)
    // ============================================
    let scene1, camera1, renderer1, controls1, model1;
    let raycaster1, mouse1;
    let muscleMeshes1 = [];
    let autoRotate1 = true;
    let lastInteraction1 = Date.now();

    function initScene1() {
      const container = document.getElementById('canvas-container');
      const width = container.clientWidth;
      const height = container.clientHeight;

      // Scene
      scene1 = new THREE.Scene();
      scene1.background = new THREE.Color(0xe8eef5);

      // Camera
      camera1 = new THREE.PerspectiveCamera(45, width / height, 0.1, 100);
      camera1.position.set(0, 0.2, 2.2);

      // Renderer
      renderer1 = new THREE.WebGLRenderer({ antialias: true });
      renderer1.setSize(width, height);
      renderer1.setPixelRatio(Math.min(window.devicePixelRatio, 2));
      renderer1.outputColorSpace = THREE.SRGBColorSpace;
      container.appendChild(renderer1.domElement);

      // Lights
      const ambientLight = new THREE.AmbientLight(0xffffff, 0.7);
      scene1.add(ambientLight);

      const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
      directionalLight.position.set(5, 10, 7.5);
      scene1.add(directionalLight);

      const backLight = new THREE.DirectionalLight(0xffffff, 0.3);
      backLight.position.set(-5, 5, -5);
      scene1.add(backLight);

      // Controls
      controls1 = new OrbitControls(camera1, renderer1.domElement);
      controls1.enableDamping = true;
      controls1.dampingFactor = 0.05;
      controls1.target.set(0, 0.2, 0);
      controls1.minDistance = 1.5;
      controls1.maxDistance = 5;
      controls1.maxPolarAngle = Math.PI * 0.9;
      controls1.update();

      // Raycaster
      raycaster1 = new THREE.Raycaster();
      mouse1 = new THREE.Vector2();

      // Load model
      loadModel1();

      // Events
      renderer1.domElement.addEventListener('mousemove', onMouseMove1);
      renderer1.domElement.addEventListener('click', onClick1);
      renderer1.domElement.addEventListener('mousedown', () => { autoRotate1 = false; lastInteraction1 = Date.now(); });
      renderer1.domElement.addEventListener('touchstart', () => { autoRotate1 = false; lastInteraction1 = Date.now(); });
      window.addEventListener('resize', onResize1);

      // Start animation
      animate1();
    }

    function loadModel1() {
      const loader = new GLTFLoader();
      loader.load(
        'muscles_labels7.glb',
        (gltf) => {
          model1 = gltf.scene;
          model1.position.set(0, 0, 0);
          
          // Process meshes
          model1.traverse((child) => {
            if (child.isMesh) {
              child.material = new THREE.MeshStandardMaterial({
                color: 0xd4a59a,
                roughness: 0.7,
                metalness: 0.1
              });
              child.userData.originalColor = 0xd4a59a;
              muscleMeshes1.push(child);
            }
          });

          scene1.add(model1);
          document.getElementById('loading-overlay').classList.add('hidden');
        },
        (progress) => {
          const percent = Math.round((progress.loaded / progress.total) * 100);
          document.querySelector('.loading-text').textContent = `Loading 3D model... ${percent}%`;
        },
        (error) => {
          console.error('Error loading model:', error);
          document.querySelector('.loading-text').textContent = 'Error loading model. Please refresh.';
        }
      );
    }

    function animate1() {
      requestAnimationFrame(animate1);
      
      // Auto-rotate after 3 seconds of no interaction
      if (Date.now() - lastInteraction1 > 3000) {
        autoRotate1 = true;
      }
      if (autoRotate1 && model1) {
        model1.rotation.y += 0.002;
      }

      controls1.update();
      renderer1.render(scene1, camera1);
    }

    function onMouseMove1(event) {
      const rect = renderer1.domElement.getBoundingClientRect();
      mouse1.x = ((event.clientX - rect.left) / rect.width) * 2 - 1;
      mouse1.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;

      raycaster1.setFromCamera(mouse1, camera1);
      const intersects = raycaster1.intersectObjects(muscleMeshes1, true);

      // Reset previous hover
      if (state.hoveredMesh && state.hoveredMesh !== state.selectedMuscle) {
        state.hoveredMesh.material.color.setHex(state.hoveredMesh.userData.originalColor);
        state.hoveredMesh.material.emissive.setHex(0x000000);
      }

      if (intersects.length > 0) {
        const mesh = intersects[0].object;
        if (mesh !== state.selectedMuscle) {
          mesh.material.color.setHex(0x60a5fa);
          mesh.material.emissive.setHex(0x1a365d);
          mesh.material.emissiveIntensity = 0.2;
          state.hoveredMesh = mesh;
          renderer1.domElement.style.cursor = 'pointer';
        }
      } else {
        state.hoveredMesh = null;
        renderer1.domElement.style.cursor = 'default';
      }
    }

    function onClick1(event) {
      const rect = renderer1.domElement.getBoundingClientRect();
      mouse1.x = ((event.clientX - rect.left) / rect.width) * 2 - 1;
      mouse1.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;

      raycaster1.setFromCamera(mouse1, camera1);
      const intersects = raycaster1.intersectObjects(muscleMeshes1, true);
      
      if (intersects.length > 0) {
        const meshName = intersects[0].object.name;
        console.log('Screen 1: Clicked on mesh:', meshName);
        
        // Use simple body part detection (not keyword matching)
        const region = getMeshBodyPart(meshName);
        if (region) {
          console.log('Screen 1: Detected body part:', region);
          selectRegion(region);
        } else {
          console.log('Screen 1: Could not determine body part for mesh:', meshName);
        }
      }
    }

    function onResize1() {
      const container = document.getElementById('canvas-container');
      const width = container.clientWidth;
      const height = container.clientHeight;

      camera1.aspect = width / height;
      camera1.updateProjectionMatrix();
      renderer1.setSize(width, height);
    }

    // ============================================
    // THREE.JS SETUP - SCREEN 2 (Focused View)
    // ============================================
    let scene2, camera2, renderer2, controls2, model2;
    let raycaster2, mouse2;
    let muscleMeshes2 = [];
    let regionMeshes2 = [];
    let model2Loaded = false;  // Track loading state
    let hoveredMuscleData = null;  // Track currently hovered muscle for click selection

    function initScene2() {
      const container = document.getElementById('canvas-container-focus');
      // Use fallback dimensions since container might be hidden initially
      let width = container.clientWidth || 800;
      let height = container.clientHeight || 600;
      
      // Ensure we have valid dimensions
      if (width === 0) width = 800;
      if (height === 0) height = 600;
      
      console.log('initScene2: container size', width, 'x', height);

      // Scene
      scene2 = new THREE.Scene();
      scene2.background = new THREE.Color(0xe8eef5);

      // Camera
      camera2 = new THREE.PerspectiveCamera(45, width / height, 0.1, 100);
      camera2.position.set(0, 0.2, 2.2);

      // Renderer
      renderer2 = new THREE.WebGLRenderer({ antialias: true });
      renderer2.setSize(width, height);
      renderer2.setPixelRatio(Math.min(window.devicePixelRatio, 2));
      renderer2.outputColorSpace = THREE.SRGBColorSpace;
      container.appendChild(renderer2.domElement);

      // Lights
      const ambientLight = new THREE.AmbientLight(0xffffff, 0.7);
      scene2.add(ambientLight);

      const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
      directionalLight.position.set(5, 10, 7.5);
      scene2.add(directionalLight);

      const backLight = new THREE.DirectionalLight(0xffffff, 0.3);
      backLight.position.set(-5, 5, -5);
      scene2.add(backLight);

      // Controls
      controls2 = new OrbitControls(camera2, renderer2.domElement);
      controls2.enableDamping = true;
      controls2.dampingFactor = 0.05;
      controls2.target.set(0, 0.2, 0);
      controls2.minDistance = 0.5;
      controls2.maxDistance = 3;
      controls2.update();

      // Raycaster
      raycaster2 = new THREE.Raycaster();
      mouse2 = new THREE.Vector2();

      // Load model
      loadModel2();

      // Events
      renderer2.domElement.addEventListener('mousemove', onMouseMove2);
      
      // Use pointerdown/pointerup for more reliable click detection
      let pointerDownPos2 = { x: 0, y: 0, time: 0 };
      renderer2.domElement.addEventListener('pointerdown', (e) => {
        pointerDownPos2.x = e.clientX;
        pointerDownPos2.y = e.clientY;
        pointerDownPos2.time = Date.now();
        console.log('pointerdown at:', e.clientX, e.clientY);
      });
      renderer2.domElement.addEventListener('pointerup', (e) => {
        const dx = Math.abs(e.clientX - pointerDownPos2.x);
        const dy = Math.abs(e.clientY - pointerDownPos2.y);
        const dt = Date.now() - pointerDownPos2.time;
        console.log('pointerup - dx:', dx, 'dy:', dy, 'dt:', dt);
        // If mouse moved less than 10 pixels and less than 300ms, treat as click
        if (dx < 10 && dy < 10 && dt < 300) {
          handleClick2(e);
        }
      });
      
      window.addEventListener('resize', onResize2);

      // Start animation
      animate2();
    }

    function loadModel2() {
      const loader = new GLTFLoader();
      loader.load(
        'muscles_labels7.glb',
        (gltf) => {
          model2 = gltf.scene;
          model2.position.set(0, 0, 0);
          
          model2.traverse((child) => {
            if (child.isMesh) {
              child.material = new THREE.MeshStandardMaterial({
                color: 0xd4a59a,
                roughness: 0.7,
                metalness: 0.1,
                transparent: true,
                opacity: 1.0
              });
              child.userData.originalColor = 0xd4a59a;
              muscleMeshes2.push(child);
            }
          });

          scene2.add(model2);
          model2Loaded = true;
          console.log('Model 2 loaded successfully with', muscleMeshes2.length, 'meshes');
          
          // If a region was already selected, focus on it now
          if (state.selectedRegion && state.currentScreen === 'screen-muscle') {
            focusOnRegion(state.selectedRegion);
          }
        },
        (progress) => {
          console.log('Model 2 loading:', (progress.loaded / progress.total * 100).toFixed(0) + '%');
        },
        (error) => {
          console.error('Error loading model 2:', error);
        }
      );
    }

    function animate2() {
      requestAnimationFrame(animate2);
      controls2.update();
      renderer2.render(scene2, camera2);
      
      // Update pointer line if visible
      if (currentIndicatorMesh && document.getElementById('muscle-indicator').classList.contains('visible')) {
        updatePointerLine();
      }
    }

    function onMouseMove2(event) {
      const rect = renderer2.domElement.getBoundingClientRect();
      mouse2.x = ((event.clientX - rect.left) / rect.width) * 2 - 1;
      mouse2.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;

      raycaster2.setFromCamera(mouse2, camera2);
      const intersects = raycaster2.intersectObjects(regionMeshes2, true);

      // Reset previous hover (but not selected meshes)
      muscleMeshes2.forEach(mesh => {
        if (mesh.userData.isInRegion && !mesh.userData.isSelected) {
          mesh.material.color.setHex(mesh.userData.originalColor);
          mesh.material.emissive.setHex(0x000000);
        }
      });

      if (intersects.length > 0) {
        const mesh = intersects[0].object;
        if (mesh.userData.isInRegion && !mesh.userData.isSelected) {
          mesh.material.color.setHex(0x60a5fa);
          mesh.material.emissive.setHex(0x1a365d);
          mesh.material.emissiveIntensity = 0.3;
          renderer2.domElement.style.cursor = 'pointer';
          
          // Show muscle name on hover with button (isHover=true for click selection)
          const muscleData = findMuscleByMesh(mesh.name);
          if (muscleData) {
            showMuscleIndicator(muscleData, true, mesh, true);  // true = isHover
          }
        } else if (mesh.userData.isSelected) {
          renderer2.domElement.style.cursor = 'pointer';
        }
      } else {
        renderer2.domElement.style.cursor = 'default';
        // Clear hover state when not hovering
        hoveredMuscleData = null;
        
        // Only hide indicator if no muscle is selected, otherwise re-show selected muscle
        if (!state.selectedMuscleId) {
          hideMuscleIndicator();
        } else {
          const muscleData = PAINSENSE_DATA.muscles[state.selectedMuscleId];
          if (muscleData) {
            // Find the selected mesh to use for pointer line
            const selectedMesh = muscleMeshes2.find(m => m.userData.isSelected);
            showMuscleIndicator(muscleData, true, selectedMesh, false);  // false = not hover (selected display)
          }
        }
      }
    }

    function onClick2(event) {
      // Not used - we use pointerdown/pointerup instead
    }
    
    function handleClick2(event) {
      console.log('=== handleClick2 START ===');
      
      // SIMPLE APPROACH: If we're hovering over a muscle (indicator visible), select it
      if (hoveredMuscleData && currentIndicatorMesh) {
        console.log('Selecting hovered muscle:', hoveredMuscleData.name);
        selectMuscleInScene2(hoveredMuscleData, currentIndicatorMesh);
        console.log('=== handleClick2 SUCCESS (hovered) ===');
        return;
      }
      
      // FALLBACK: Raycast to find clicked mesh
      const rect = renderer2.domElement.getBoundingClientRect();
      mouse2.x = ((event.clientX - rect.left) / rect.width) * 2 - 1;
      mouse2.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;

      console.log('Mouse coords:', mouse2.x.toFixed(3), mouse2.y.toFixed(3));
      console.log('muscleMeshes2 count:', muscleMeshes2.length);
      console.log('regionMeshes2 count:', regionMeshes2.length);
      
      raycaster2.setFromCamera(mouse2, camera2);
      
      // Raycast against ALL meshes, not just regionMeshes2
      const intersects = raycaster2.intersectObjects(muscleMeshes2, true);

      console.log('Intersects count:', intersects.length);
      
      if (intersects.length > 0) {
        // Find the first mesh that is in the current region
        for (const intersect of intersects) {
          const mesh = intersect.object;
          console.log('Checking intersect:', mesh.name, 'isInRegion:', mesh.userData.isInRegion);
          
          if (mesh.userData.isInRegion) {
            console.log('Found region mesh:', mesh.name);
            const muscleData = findMuscleByMesh(mesh.name);
            console.log('MuscleData:', muscleData ? muscleData.name : 'null');
            if (muscleData) {
              selectMuscleInScene2(muscleData, mesh);
              console.log('=== handleClick2 SUCCESS ===');
              return;
            }
          }
        }
        console.log('No region mesh found in intersects');
      } else {
        console.log('No intersections at all');
      }
      console.log('=== handleClick2 END (no selection) ===');
    }

    function onResize2() {
      const container = document.getElementById('canvas-container-focus');
      if (!container || !renderer2) return;
      
      const width = container.clientWidth || 800;  // Fallback width
      const height = container.clientHeight || 600;  // Fallback height

      if (width > 0 && height > 0) {
        camera2.aspect = width / height;
        camera2.updateProjectionMatrix();
        renderer2.setSize(width, height);
        console.log('Scene 2 resized to:', width, 'x', height);
      } else {
        console.warn('Container has zero dimensions, scheduling retry...');
        setTimeout(onResize2, 100);
      }
    }

    function findMuscleByMesh(meshName) {
      const meshNormalized = normalizeMeshName(meshName);
      
      // First, try to find a match within the current region's muscles
      if (state.selectedRegion && PAINSENSE_DATA.regions[state.selectedRegion]) {
        const regionMuscles = PAINSENSE_DATA.regions[state.selectedRegion].muscles;
        for (const muscleId of regionMuscles) {
          const muscleData = PAINSENSE_DATA.muscles[muscleId];
          if (muscleData) {
            for (const keyword of muscleData.keywords) {
              if (meshNormalized.includes(keyword.toLowerCase())) {
                console.log('findMuscleByMesh: Found', muscleData.name, 'for mesh', meshName);
                return muscleData;
              }
            }
          }
        }
      }
      
      // Fallback: search all muscles
      for (const [muscleId, muscleData] of Object.entries(PAINSENSE_DATA.muscles)) {
        for (const keyword of muscleData.keywords) {
          if (meshNormalized.includes(keyword.toLowerCase())) {
            console.log('findMuscleByMesh (fallback): Found', muscleData.name, 'for mesh', meshName);
            return muscleData;
          }
        }
      }
      
      console.log('findMuscleByMesh: No muscle found for mesh', meshName);
      return null;
    }

    // Smarter keyword matching with word boundaries (kept for backward compatibility)
    function keywordMatches(meshName, keyword) {
      // Escape special regex characters in keyword
      const escaped = keyword.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
      // Create regex with word boundary-like matching (handles underscores and dots)
      const regex = new RegExp('(^|[^a-z])' + escaped + '([^a-z]|$)', 'i');
      return regex.test(meshName);
    }

    function focusOnRegion(regionName) {
      console.log('focusOnRegion called for:', regionName, 'model2Loaded:', model2Loaded, 'muscleMeshes2.length:', muscleMeshes2.length);
      
      if (!model2Loaded || !model2) {
        console.log('Model 2 not loaded yet, will focus when loaded');
        return;
      }
      
      if (!PAINSENSE_DATA.regions[regionName]) {
        console.error('Region not found:', regionName);
        return;
      }

      const regionData = PAINSENSE_DATA.regions[regionName];
      console.log('Region data:', regionName, '- muscles:', regionData.muscles);
      regionMeshes2 = [];

      // Reset all meshes first
      muscleMeshes2.forEach(mesh => {
        mesh.userData.isInRegion = false;
        mesh.userData.isSelected = false;
        mesh.material.opacity = 0.15;
        mesh.material.color.setHex(0x888888);
        mesh.material.emissive.setHex(0x000000);
      });

      // Use the same BODY_PART_RULES pattern matching as Screen 1
      // Find the patterns for this region
      const regionPatterns = BODY_PART_RULES.find(([r, p]) => r === regionName);
      
      if (regionPatterns) {
        const [, patterns] = regionPatterns;
        
        muscleMeshes2.forEach(mesh => {
          const meshNormalized = normalizeMeshName(mesh.name);
          let isInRegion = false;
          
          for (const pattern of patterns) {
            if (meshNormalized.includes(pattern.toLowerCase())) {
              isInRegion = true;
              break;
            }
          }
          
          if (isInRegion) {
            mesh.userData.isInRegion = true;
            mesh.material.opacity = 1.0;
            mesh.material.color.setHex(0xd4a59a);
            regionMeshes2.push(mesh);
          }
        });
      }

      console.log('Total regionMeshes2:', regionMeshes2.length);
      
      // Log specific meshes for debugging
      const pecMeshes = regionMeshes2.filter(m => m.name.toLowerCase().includes('pectoralis'));
      console.log('Pectoralis meshes in regionMeshes2:', pecMeshes.length, pecMeshes.map(m => m.name));

      // Hardcoded camera positions (same base as Screen 1: Y=0.2, Z=2.2)
      const cameraPositions = {
        "Head & Face": { cam: [0, 0.2, 1.5], target: [0, 0.2, 0] },
        "Neck": { cam: [0, 0.2, 1.5], target: [0, 0.2, 0] },
        "Shoulder": { cam: [0, 0.2, 2.2], target: [0, 0.2, 0] },
        "Upper Arm": { cam: [0, 0.2, 2.2], target: [0, 0.2, 0] },
        "Forearm": { cam: [0, 0.2, 2.2], target: [0, 0.2, 0] },
        "Wrist & Hand": { cam: [0, 0.2, 2.2], target: [0, 0.2, 0] },
        "Chest": { cam: [0, 0.2, 2.2], target: [0, 0.2, 0] },
        "Upper Back": { cam: [0, 0.2, -2.2], target: [0, 0.2, 0] },
        "Lower Back": { cam: [0, 0.2, -2.2], target: [0, 0.2, 0] },
        "Abdomen": { cam: [0, 0.2, 2.2], target: [0, 0.2, 0] },
        "Hip & Pelvis": { cam: [0, 0.2, 2.2], target: [0, 0.2, 0] },
        "Thigh": { cam: [0, 0.2, 2.2], target: [0, 0.2, 0] },
        "Knee": { cam: [0, 0.2, 2.2], target: [0, 0.2, 0] },
        "Lower Leg": { cam: [0, 0.2, 2.2], target: [0, 0.2, 0] },
        "Ankle & Foot": { cam: [0, 0.2, 2.2], target: [0, 0.2, 0] }
      };

      // Use hardcoded positions, fallback to JSON
      const pos = cameraPositions[regionName] || { 
        cam: regionData.cameraPos, 
        target: regionData.target 
      };
      
      camera2.position.set(pos.cam[0], pos.cam[1], pos.cam[2]);
      controls2.target.set(pos.target[0], pos.target[1], pos.target[2]);
      controls2.update();
      
      console.log('Camera set to:', pos.cam, 'Target:', pos.target);
      console.log('Region meshes found:', regionMeshes2.length, 'meshes for', regionName);
    }

    function selectMuscleInScene2(muscleData, mesh) {
      // Clear previous selection
      muscleMeshes2.forEach(m => {
        if (m.userData.isSelected) {
          m.userData.isSelected = false;
          m.material.color.setHex(m.userData.originalColor);
          m.material.emissive.setHex(0x000000);
        }
      });

      // Find all meshes that match this muscle (including .l and .r variants)
      const matchingMeshes = findAllMeshesForMuscle(muscleData);
      
      // Highlight all matching meshes
      matchingMeshes.forEach(m => {
        m.userData.isSelected = true;
        m.material.color.setHex(0xef4444);
        m.material.emissive.setHex(0x7f1d1d);
        m.material.emissiveIntensity = 0.3;
      });
      
      state.selectedMuscle = mesh;
      state.selectedMuscleId = muscleData.id;
      
      showMuscleIndicator(muscleData, true, mesh);
      
      // Update muscle list
      document.querySelectorAll('.muscle-list-item').forEach(item => {
        item.classList.toggle('active', item.dataset.muscleId === muscleData.id);
      });
    }

    // Helper function to find all meshes for a muscle (both .l and .r)
    function findAllMeshesForMuscle(muscleData) {
      const matchingMeshes = [];
      
      for (const mesh of regionMeshes2) {
        const meshNormalized = normalizeMeshName(mesh.name);
        for (const keyword of muscleData.keywords) {
          if (meshNormalized.includes(keyword.toLowerCase())) {
            matchingMeshes.push(mesh);
            break;
          }
        }
      }
      
      return matchingMeshes;
    }

    // ============================================
    // UI FUNCTIONS
    // ============================================
    let currentIndicatorMesh = null;

    function showMuscleIndicator(muscleData, showButton, mesh, isHover = false) {
      const indicator = document.getElementById('muscle-indicator');
      const overlay = document.getElementById('muscle-indicator-overlay');
      document.getElementById('indicator-muscle-name').textContent = muscleData.name;
      document.getElementById('indicator-muscle-desc').textContent = muscleData.laymanDescription || '';
      
      const btn = indicator.querySelector('.confirm-btn');
      btn.style.display = showButton ? 'block' : 'none';
      
      // Store the mesh for pointer line updates
      if (mesh) {
        currentIndicatorMesh = mesh;
        // Only set hoveredMuscleData if this is from a hover event (not from selection display)
        if (isHover) {
          hoveredMuscleData = muscleData;
        }
      }
      
      indicator.classList.add('visible');
      if (overlay) overlay.classList.add('visible');
      
      // Update pointer line
      updatePointerLine();
    }

    function hideMuscleIndicator() {
      document.getElementById('muscle-indicator').classList.remove('visible');
      const overlay = document.getElementById('muscle-indicator-overlay');
      if (overlay) overlay.classList.remove('visible');
      hidePointerLine();
      currentIndicatorMesh = null;
      hoveredMuscleData = null;
    }

    function closeMuscleIndicator() {
      // Clear selection state
      state.selectedMuscle = null;
      state.selectedMuscleId = null;
      
      // Reset mesh colors
      muscleMeshes2.forEach(m => {
        if (m.userData.isSelected) {
          m.userData.isSelected = false;
          if (m.userData.isInRegion) {
            m.material.color.setHex(0xd4a59a);
          } else {
            m.material.color.setHex(0x888888);
          }
          m.material.emissive.setHex(0x000000);
        }
      });
      
      // Update muscle list
      document.querySelectorAll('.muscle-list-item').forEach(item => {
        item.classList.remove('active');
      });
      
      hideMuscleIndicator();
    }

    function updatePointerLine() {
      const container = document.getElementById('canvas-container-focus');
      const indicator = document.getElementById('muscle-indicator');
      const line = document.getElementById('pointer-line-element');
      const dot = document.getElementById('pointer-dot');
      
      if (!container || !indicator || !line || !dot || !currentIndicatorMesh || !camera2) {
        hidePointerLine();
        return;
      }
      
      const containerRect = container.getBoundingClientRect();
      const indicatorRect = indicator.getBoundingClientRect();
      
      // Get the 3D position of the mesh center
      const meshCenter = new THREE.Vector3();
      currentIndicatorMesh.geometry.computeBoundingBox();
      currentIndicatorMesh.geometry.boundingBox.getCenter(meshCenter);
      meshCenter.applyMatrix4(currentIndicatorMesh.matrixWorld);
      
      // Project 3D position to 2D screen coordinates
      const projected = meshCenter.clone().project(camera2);
      
      // Convert to screen pixels
      const startX = (projected.x * 0.5 + 0.5) * containerRect.width;
      const startY = (-projected.y * 0.5 + 0.5) * containerRect.height;
      
      // End point: left side of indicator card
      const endX = indicatorRect.left - containerRect.left;
      const endY = indicatorRect.top + indicatorRect.height / 2 - containerRect.top;
      
      line.setAttribute('x1', startX);
      line.setAttribute('y1', startY);
      line.setAttribute('x2', endX);
      line.setAttribute('y2', endY);
      
      dot.setAttribute('cx', startX);
      dot.setAttribute('cy', startY);
      
      document.getElementById('pointer-line').style.display = 'block';
    }

    function hidePointerLine() {
      const pointerLine = document.getElementById('pointer-line');
      if (pointerLine) {
        pointerLine.style.display = 'none';
      }
    }

    // Model rotation functions
    function rotateModel1(direction) {
      if (model1) {
        model1.rotation.y += direction * Math.PI / 4; // Rotate 45 degrees
      }
    }

    function rotateModel2(direction) {
      if (model2) {
        model2.rotation.y += direction * Math.PI / 4; // Rotate 45 degrees
        // Update pointer line after rotation
        if (currentIndicatorMesh) {
          setTimeout(updatePointerLine, 50);
        }
      }
    }

    // Y-axis movement tracking
    let yOffset1 = 0;
    let yOffset2 = 0;
    const Y_STEP = 0.15;
    const Y_MIN = -0.8;  // Doubled: allow viewing feet better
    const Y_MAX = 1.0;   // Doubled: allow more upward scrolling

    function moveModelY1(direction) {
      const newOffset = yOffset1 + direction * Y_STEP;
      
      // Clamp to limits
      if (newOffset < Y_MIN || newOffset > Y_MAX) {
        updateYButtonStates1();
        return;
      }
      
      yOffset1 = newOffset;
      
      // Move camera target and position
      if (camera1 && controls1) {
        const baseY = 0.2;
        camera1.position.y = baseY + yOffset1;
        controls1.target.y = baseY + yOffset1;
        controls1.update();
      }
      
      updateYButtonStates1();
    }

    function moveModelY2(direction) {
      const newOffset = yOffset2 + direction * Y_STEP;
      
      // Clamp to limits
      if (newOffset < Y_MIN || newOffset > Y_MAX) {
        updateYButtonStates2();
        return;
      }
      
      yOffset2 = newOffset;
      
      // Move camera target and position
      if (camera2 && controls2) {
        const baseY = 0.2;
        camera2.position.y = baseY + yOffset2;
        controls2.target.y = baseY + yOffset2;
        controls2.update();
        
        // Update pointer line after movement
        if (currentIndicatorMesh) {
          setTimeout(updatePointerLine, 50);
        }
      }
      
      updateYButtonStates2();
    }

    function updateYButtonStates1() {
      const upBtn = document.getElementById('nav-up-1');
      const downBtn = document.getElementById('nav-down-1');
      if (upBtn) upBtn.disabled = yOffset1 >= Y_MAX;
      if (downBtn) downBtn.disabled = yOffset1 <= Y_MIN;
    }

    function updateYButtonStates2() {
      const upBtn = document.getElementById('nav-up-2');
      const downBtn = document.getElementById('nav-down-2');
      if (upBtn) upBtn.disabled = yOffset2 >= Y_MAX;
      if (downBtn) downBtn.disabled = yOffset2 <= Y_MIN;
    }

    function resetYOffset1() {
      yOffset1 = 0;
      if (camera1 && controls1) {
        camera1.position.y = 0.2;
        controls1.target.y = 0.2;
        controls1.update();
      }
      updateYButtonStates1();
    }

    function resetYOffset2() {
      yOffset2 = 0;
      if (camera2 && controls2) {
        camera2.position.y = 0.2;
        controls2.target.y = 0.2;
        controls2.update();
      }
      updateYButtonStates2();
    }

    function hideOverlay(id) {
      document.getElementById(id).classList.add('hidden');
    }

    function populateRegionButtons() {
      const container = document.getElementById('region-buttons');
      container.innerHTML = '';
      
      const regions = Object.keys(PAINSENSE_DATA.regions);
      console.log('populateRegionButtons: creating buttons for', regions.length, 'regions');
      
      regions.forEach(region => {
        const btn = document.createElement('button');
        btn.className = 'region-btn';
        btn.textContent = region;
        btn.onclick = () => {
          console.log('Region button clicked:', region);
          selectRegion(region);
        };
        container.appendChild(btn);
      });
      
      console.log('Region buttons created:', container.children.length);
    }

    function populateMuscleList(regionName) {
      console.log('populateMuscleList called for:', regionName);
      const container = document.getElementById('muscle-list');
      container.innerHTML = '';
      
      const regionData = PAINSENSE_DATA.regions[regionName];
      if (!regionData) {
        console.error('Region data not found for:', regionName);
        return;
      }

      console.log('Muscles in region:', regionData.muscles);
      regionData.muscles.forEach(muscleId => {
        const muscleData = PAINSENSE_DATA.muscles[muscleId];
        if (!muscleData) {
          console.warn('Muscle data not found for:', muscleId);
          return;
        }

        const item = document.createElement('button');
        item.className = 'muscle-list-item';
        item.textContent = muscleData.name;
        item.dataset.muscleId = muscleId;
        item.onclick = () => selectMuscleFromList(muscleId);
        container.appendChild(item);
      });
      console.log('Populated', regionData.muscles.length, 'muscles');
    }

    function selectMuscleFromList(muscleId) {
      console.log('selectMuscleFromList called with:', muscleId);
      const muscleData = PAINSENSE_DATA.muscles[muscleId];
      if (!muscleData) {
        console.error('Muscle not found:', muscleId);
        return;
      }
      
      console.log('Muscle data:', muscleData.name, 'keywords:', muscleData.keywords);
      console.log('regionMeshes2 count:', regionMeshes2.length);

      // Find and highlight the mesh in scene2
      let foundMesh = null;
      for (const mesh of regionMeshes2) {
        const meshNormalized = normalizeMeshName(mesh.name);
        for (const keyword of muscleData.keywords) {
          if (meshNormalized.includes(keyword.toLowerCase())) {
            console.log('Found mesh:', mesh.name, 'for keyword:', keyword);
            foundMesh = mesh;
            break;
          }
        }
        if (foundMesh) break;
      }

      if (foundMesh) {
        console.log('Selecting mesh:', foundMesh.name);
        selectMuscleInScene2(muscleData, foundMesh);
      } else {
        console.log('No mesh found for muscle, selecting without 3D highlight');
        // Clear previous 3D selection
        muscleMeshes2.forEach(m => {
          if (m.userData.isSelected) {
            m.userData.isSelected = false;
            m.material.color.setHex(m.userData.originalColor);
            m.material.emissive.setHex(0x000000);
          }
        });
        
        // Muscle not visible in 3D, but still select it
        state.selectedMuscle = null;
        state.selectedMuscleId = muscleId;
        showMuscleIndicator(muscleData, true);
        
        document.querySelectorAll('.muscle-list-item').forEach(item => {
          item.classList.toggle('active', item.dataset.muscleId === muscleId);
        });
      }
    }

    function populateCauseOptions() {
      const container = document.getElementById('cause-options');
      container.innerHTML = '';

      const muscleData = PAINSENSE_DATA.muscles[state.selectedMuscleId];
      if (!muscleData || !muscleData.causes || muscleData.causes.length === 0) {
        // Use default cause options if no specific causes
        PAINSENSE_DATA.causeOptions.forEach(cause => {
          const option = createCauseOption(cause.id, cause.label, '');
          container.appendChild(option);
        });
        return;
      }

      // Use muscle-specific causes
      muscleData.causes.forEach(cause => {
        const option = createCauseOption(cause.causeId, cause.causeLabel, cause.condition);
        container.appendChild(option);
      });
    }

    function createCauseOption(causeId, label, condition) {
      const option = document.createElement('div');
      option.className = 'cause-option';
      option.dataset.causeId = causeId;
      option.innerHTML = `
        <div class="cause-title">${label}</div>
        ${condition ? `<div class="cause-desc">${condition}</div>` : ''}
      `;
      option.onclick = () => selectCause(causeId);
      return option;
    }

    function selectCause(causeId) {
      state.selectedCause = causeId;
      state.customCauseText = ''; // Clear custom text when selecting preset option
      
      // Clear the custom cause text box
      const customTextarea = document.getElementById('custom-cause-text');
      if (customTextarea) {
        customTextarea.value = '';
      }
      
      document.querySelectorAll('.cause-option').forEach(opt => {
        opt.classList.toggle('selected', opt.dataset.causeId === causeId);
      });

      const btn = document.getElementById('cause-continue-btn');
      btn.disabled = false;
      btn.textContent = 'View Recommendations';
    }

    function handleCustomCauseInput(textarea) {
      const text = textarea.value.trim();
      state.customCauseText = text;
      
      if (text.length > 0) {
        // Clear preset selection when typing custom text
        state.selectedCause = 'custom';
        document.querySelectorAll('.cause-option').forEach(opt => {
          opt.classList.remove('selected');
        });
        
        const btn = document.getElementById('cause-continue-btn');
        btn.disabled = false;
        btn.textContent = 'View Recommendations';
      } else if (!state.selectedCause || state.selectedCause === 'custom') {
        // If text is cleared and no preset is selected, disable button
        state.selectedCause = null;
        const btn = document.getElementById('cause-continue-btn');
        btn.disabled = true;
        btn.textContent = 'Select a cause to continue';
      }
    }
    
    // Expose to window for onclick handlers
    window.handleCustomCauseInput = handleCustomCauseInput;

    // ============================================
    // SCREEN NAVIGATION
    // ============================================
    function goToScreen(screenId) {
      document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
      document.getElementById(screenId).classList.add('active');
      state.currentScreen = screenId;

      // Handle screen-specific setup
      if (screenId === 'screen-region') {
        // Reset state when going back to start
        if (model1) {
          model1.rotation.y = 0;
        }
        autoRotate1 = true;
        lastInteraction1 = Date.now();
      }
      
      if (screenId === 'screen-muscle') {
        console.log('Entering screen-muscle, selectedRegion:', state.selectedRegion, 'model2Loaded:', model2Loaded);
        // Reset model rotation for consistent alignment
        if (model2) {
          model2.rotation.y = 0;
        }
        
        // Wait for display:flex to take effect, then resize
        requestAnimationFrame(() => {
          onResize2();
          if (state.selectedRegion) {
            console.log('Calling focusOnRegion for:', state.selectedRegion);
            focusOnRegion(state.selectedRegion);
          }
          // Double-check resize after another frame
          requestAnimationFrame(() => {
            onResize2();
          });
        });
      }

      if (screenId === 'screen-cause') {
        const muscleData = PAINSENSE_DATA.muscles[state.selectedMuscleId];
        document.getElementById('cause-muscle-name').textContent = muscleData ? muscleData.name : 'Selected Muscle';
        populateCauseOptions();
        
        // Reset cause selection
        state.selectedCause = null;
        state.customCauseText = '';
        const customTextarea = document.getElementById('custom-cause-text');
        if (customTextarea) {
          customTextarea.value = '';
        }
        document.getElementById('cause-continue-btn').disabled = true;
        document.getElementById('cause-continue-btn').textContent = 'Select a cause to continue';
      }
    }

    function selectRegion(regionName) {
      console.log('selectRegion called with:', regionName);
      
      state.selectedRegion = regionName;
      state.selectedMuscle = null;
      state.selectedMuscleId = null;
      
      // Update region buttons
      document.querySelectorAll('.region-btn').forEach(btn => {
        btn.classList.toggle('active', btn.textContent === regionName);
      });

      // Update header
      document.getElementById('selected-region-title').textContent = regionName;
      
      // Populate muscle list
      console.log('Populating muscle list for:', regionName);
      populateMuscleList(regionName);
      
      // Hide indicator
      hideMuscleIndicator();
      
      // Go to muscle selection screen
      console.log('Calling goToScreen(screen-muscle)');
      goToScreen('screen-muscle');
    }

    function confirmMuscleSelection() {
      if (!state.selectedMuscleId) return;
      goToScreen('screen-cause');
    }

    function showResults() {
      if (!state.selectedMuscleId || !state.selectedCause) return;

      const muscleData = PAINSENSE_DATA.muscles[state.selectedMuscleId];
      if (!muscleData) return;

      // Find the selected cause data
      let causeData = null;
      if (state.selectedCause !== 'custom') {
        causeData = muscleData.causes.find(c => c.causeId === state.selectedCause);
        if (!causeData && muscleData.causes.length > 0) {
          causeData = muscleData.causes[0]; // Fallback to first cause
        }
      }

      // Populate solutions
      const solutionList = document.getElementById('solution-list');
      solutionList.innerHTML = '';
      
      if (causeData && causeData.solution) {
        const solutions = causeData.solution.split(', ');
        solutions.forEach((solution, index) => {
          const item = document.createElement('div');
          item.className = 'solution-item';
          item.innerHTML = `
            <div class="solution-number">${index + 1}</div>
            <p>${solution.charAt(0).toUpperCase() + solution.slice(1)}</p>
          `;
          solutionList.appendChild(item);
        });
      } else {
        // Generic advice for custom cause or no specific cause data
        const genericSolutions = [
          'Rest the affected area and avoid activities that aggravate the pain',
          'Apply ice for 15-20 minutes several times a day for acute pain (first 48-72 hours)',
          'Apply heat for chronic tightness or stiffness',
          'Consider gentle stretching once pain allows',
          'If pain persists beyond a few days, consult a healthcare professional'
        ];
        genericSolutions.forEach((solution, index) => {
          const item = document.createElement('div');
          item.className = 'solution-item';
          item.innerHTML = `
            <div class="solution-number">${index + 1}</div>
            <p>${solution}</p>
          `;
          solutionList.appendChild(item);
        });
      }

      // Populate stretches with embedded YouTube videos
      const stretchesList = document.getElementById('stretches-list');
      stretchesList.innerHTML = '';
      
      if (muscleData.stretches && muscleData.stretches.length > 0) {
        muscleData.stretches.forEach(stretch => {
          const card = document.createElement('div');
          card.className = 'stretch-card';
          
          // Extract YouTube video ID and timestamp
          let videoEmbed = '';
          if (stretch.youtubeUrl) {
            const url = stretch.youtubeUrl;
            let videoId = '';
            let startTime = '';
            
            // Extract video ID
            const idMatch = url.match(/[?&]v=([^&]+)/) || url.match(/youtu\.be\/([^?&]+)/);
            if (idMatch) videoId = idMatch[1];
            
            // Extract timestamp
            const timeMatch = url.match(/[?&]t=(\d+)/);
            if (timeMatch) startTime = timeMatch[1];
            
            if (videoId) {
              const embedUrl = `https://www.youtube.com/embed/${videoId}${startTime ? '?start=' + startTime : ''}`;
              videoEmbed = `
                <div class="video-container">
                  <iframe 
                    src="${embedUrl}" 
                    title="${stretch.name}"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                    allowfullscreen>
                  </iframe>
                </div>
              `;
            }
          }
          
          card.innerHTML = `
            <h4>${stretch.name}</h4>
            <p>${stretch.description}</p>
            ${videoEmbed}
          `;
          stretchesList.appendChild(card);
        });
      } else {
        stretchesList.innerHTML = '<p>No specific stretches available for this muscle. Consider consulting a physical therapist for personalized guidance.</p>';
      }

      goToScreen('screen-results');
    }

    function startOver() {
      // Reset state
      state.selectedRegion = null;
      state.selectedMuscle = null;
      state.selectedMuscleId = null;
      state.painLevel = 5;
      state.selectedCause = null;

      // Reset UI
      document.querySelectorAll('.region-btn').forEach(btn => btn.classList.remove('active'));
      document.querySelectorAll('.muscle-list-item').forEach(item => item.classList.remove('active'));
      
      hideMuscleIndicator();

      // Reset 3D view
      if (model1) {
        model1.rotation.y = 0;
      }
      if (camera1) {
        camera1.position.set(0, 0.2, 2.2);
        controls1.target.set(0, 0.2, 0);
        controls1.update();
      }
      
      // Reset Y offsets
      resetYOffset1();
      resetYOffset2();

      goToScreen('screen-region');
    }

    // ============================================
    // INITIALIZATION
    // ============================================
    function init() {
      // Data is now embedded, no need to load

      // Populate region buttons
      populateRegionButtons();

      // Initialize Three.js scenes
      initScene1();
      initScene2();

      // Make functions globally available for onclick handlers
      window.goToScreen = goToScreen;
      window.hideOverlay = hideOverlay;
      window.confirmMuscleSelection = confirmMuscleSelection;
      window.showResults = showResults;
      window.startOver = startOver;
      window.selectRegion = selectRegion;
      window.rotateModel1 = rotateModel1;
      window.rotateModel2 = rotateModel2;
      window.moveModelY1 = moveModelY1;
      window.moveModelY2 = moveModelY2;
      window.closeMuscleIndicator = closeMuscleIndicator;
      window.selectMuscleFromList = selectMuscleFromList;
      
      // Initialize Y-axis button states
      updateYButtonStates1();
      updateYButtonStates2();
      
      // Test function for debugging
      window.testRegion = function(regionName) {
        console.log('Testing region:', regionName);
        console.log('PAINSENSE_DATA.regions:', Object.keys(PAINSENSE_DATA.regions));
        console.log('Region data:', PAINSENSE_DATA.regions[regionName]);
        selectRegion(regionName);
      };
    }

    // ============================================
    // DISCLAIMER FUNCTIONS
    // ============================================
    function updateDisclaimerButton() {
      const checkbox = document.getElementById('disclaimer-agree');
      const btn = document.getElementById('disclaimer-btn');
      btn.disabled = !checkbox.checked;
    }

    function acceptDisclaimer() {
      const disclaimerScreen = document.getElementById('disclaimer-screen');
      disclaimerScreen.classList.add('hidden');
    }

    // Expose disclaimer functions globally
    window.updateDisclaimerButton = updateDisclaimerButton;
    window.acceptDisclaimer = acceptDisclaimer;

    // Start the app
    init();

    // Always show disclaimer on load (removed localStorage check)

  </script>
</body>
</html>

